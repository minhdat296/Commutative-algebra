\chapter{Algebraic groups}
    \begin{abstract}
        
    \end{abstract}
    
    \minitoc
    
    \section{The geometry of algebraic groups}
        \subsection{Introducing algebraic groups} \label{subsubsection: algebraic_groups}
            \subsubsection{General properties of group schemes}
                \begin{definition}[Algebraic groups] \label{def: algebraic_groups} \index{Algebraic groups}
                    Let $S$ be a base scheme.
                    \begin{enumerate}
                        \item A \textbf{group scheme over $S$} is a group object in the cartesian closed category $\Sch_{/S}$ of schemes over $S$. 
                        \item In the event that $S$ is isomorphic to the spectrum of some field $k$, a group scheme $G$ over $\Spec k$ will be called a \textbf{(locally) algebraic group scheme} if and only if it is (locally) of finite type over $\Spec k$ (i.e. if and only if it is (locally) algebraic as a scheme over $\Spec k$).
                        \item An abstract group $S$-scheme:
                            $$\pi: G \to S$$
                        is called \textbf{geometrically (locally) algebraic} if and only if over each point:
                            $$s: \Spec \kappa_s \to S$$
                        with corresponding residue field $\kappa_s$, and for each field extension $K_s/\kappa_s$ corrsponding to a morphism:
                            $$i: \Spec K_s \to \Spec \kappa_s$$
                        of affine schemes, the canonical projection:
                            $$\pr_2: \left(G \x_{\pi, S, s} \Spec \kappa_s\right) \x_{\pr_2, \Spec \kappa_s, i} \Spec K_s \to \Spec K_s$$
                        is (locally) of finite type.
                    \end{enumerate}
                \end{definition}
                \begin{example}
                    \noindent
                    \begin{enumerate}
                        \item \textbf{(General linear groups)} Traditionally, one thinks of general linear groups as groups of automorphisms of vector spaces of a given (not necessarily finite) dimension; so for instance, $\GL_n(\R)$ is the group of all automorphisms of $n$-dimensional real vector spaces, i.e. its elements are $n \x n$ invertible matrices with real coefficients. However, there is another way. By squinting a bit, we can see that for each natural number $n$, the presheaf:
                            $$\GL_n: (\Cring^{\op})^{\op} \to \Sets$$
                        is represented by the affine scheme $\Spec \Z\left[\{x_{ij}\}_{1 \leq i, j \leq n}, \frac{1}{\det}\right]$, since an $n \x n$ matrix has $n^2$ free entries, which are only subjected to the requirement that the determinant (which can be viewed as a polynomial in the $n^2$ variables $x_{11}, ..., x_{nn}$) is invertible (hence the localisation at $\det$); incidentally, this also ensures that $\GL_n$ is a Zariski sheaf (cf. remark \ref{remark: affine_schemes_are_zariski_sheaves}), and hence an affine scheme (cf. definition \ref{def: zariski_topoi}). It remains to check whether or not $\GL_n$ is a group object. We claim that $\GL_n$, as it ought to be, is a group, and that its structure is determined by the following multiplication:
                            $$
                                \begin{aligned}
                                    \GL_n & \leftarrow \GL_n \x \GL_n
                                    \\
                                    \Spec \Z\left[\{x_{ij}\}_{1 \leq i, j \leq n}, \frac{1}{\det}\right] & \leftarrow \Spec \Z\left[\{x_{ij}\}_{1 \leq i, j \leq n}, \frac{1}{\det}\right] \x \Spec \Z\left[\{x_{ij}\}_{1 \leq i, j \leq n}, \frac{1}{\det}\right]
                                    \\
                                    \Z\left[\{x_{ij}\}_{1 \leq i, j \leq n}, \frac{1}{\det}\right] & \to \Z\left[\{x_{ij}\}_{1 \leq i, j \leq n}, \frac{1}{\det}\right] \tensor_{\Z} \Z\left[\{x_{ij}\}_{1 \leq i, j \leq n}, \frac{1}{\det}\right]
                                    \\
                                    x_{ij} & \mapsto \sum_{k=1}^n x_{ik} \tensor x_{kj}
                                \end{aligned}
                            $$
                        It is not hard to see that $\GL_n$ is a scheme of finite type, and hence it is an algebraic group, per definition \ref{def: algebraic_groups}.
                        
                        When $n = 1$, we recover the multiplicative group scheme $\G_m$.
                        \item \textbf{(Special linear groups):} Via the above discussion surrounding $\GL_n$, let us define $\SL_n$ to be the Zariski-closed subgroup scheme represented by the affine scheme $\Spec \frac{\Z\left[\{x_{ij}\}_{1 \leq i,j \leq n}, \frac{1}{\det}\right]}{(\det - 1)}$: indeed, special linear groups are, by definition, subgroups of generali linear groups consisting of matrices of determinant $1$. As we shall see, this means two things: that $\SL_n$ is an algebraic group, and as a consequence of this, that $\SL_n$ is smooth over fields. 
                        \item \textbf{(Roots of unity):} Let:
                            $$\mu_n: (\Cring^{\op})^{\op} \to \Sets$$
                        be the presheaf on $\Cring^{\op}$ that is represented by the affine scheme $\Spec \Z[z]/(z^n - 1)$. Its group structure is given by:
                            $$
                                \begin{aligned}
                                    \mu_n & \leftarrow \mu_n \x \mu_n
                                    \\
                                    \Spec \Spec \Z[z]/(z^n - 1) & \leftarrow \Spec \Z[z]/(z^n - 1) \x \Spec \Z[z]/(z^n - 1)
                                    \\
                                    \Z[z]/(z^n - 1) & \to \Z[z]/(z^n - 1) \tensor_{\Z} \Z[z]/(z^n - 1)
                                    \\
                                    \zeta & \mapsto \zeta \tensor \zeta
                                \end{aligned}
                            $$
                        and because it is of finite type, it is also algebraic, just like $\GL_n$ and $\SL_n$. When $n = p^r$, one gets the group $\mu_{p^r}$ of $p^r$-th roots. 
                    \end{enumerate}
                \end{example}
                
                \begin{proposition}[The conormal sheaf associated to the identity] \label{prop: conormal_sheaf_of_the_identity}
                    \noindent
                    \begin{enumerate}
                        \item \textbf{(The identity is a closed immersion):} Let $S$ be a base scheme and let $G$ be a group scheme over $S$. Then, $G$ is separated (respectively quasi-separated) if and only if the identity:
                            $$e: S \to G$$
                        is a closed immersion (respectively quasi-compact). 
                        \item \textbf{(The conormal sheaf associated to the identity):} Since this is good a place as any to state the definition of the conormal sheaf associated to a closed immersion of schemes, let us write it out first.
                        
                        Let $X$ be a scheme and let $\calI$ be a $\calO_X$-ideal. Then, the \textbf{conormal sheaf} or \textbf{conormal module} associated to the canonical closed immersion:
                            $$\Spec \calO_X/\calI \hookrightarrow X$$
                        is just the quasi-coherent $\calO_X$-module $\calI/\calI^2$, which we note to actually be a quasi-coherent $\calO_Z$-module (see proposition \ref{prop: Zariski_tangent_spaces_are_vector_spaces} for a proof instruction). We shall denote this by $\calN^{\vee}_{Z/X}$.
                        
                        As the identity:
                            $$e: S \to G$$
                        of a separated group scheme:
                            $$\pi: G \to S$$
                        is a closed immersion, its conormal module $\calN^{\vee}_{S/G}$ is well-defined. Furthermore, one has:
                            $$\Omega^1_{G/S} \cong \pi^* \calN^{\vee}_{S/G} \cong \pi^* e^* \Omega^1_{G/S}$$
                        In particular, should $S$ be the spectrum of a field (i.e. if one can recognise the identity $e$ has a rational point of $G$), then $\Omega^1_{G/S}$ is free as an $\calO_G$-module.   
                    \end{enumerate}
                \end{proposition}
                    \begin{proof}
                        \noindent
                        \begin{enumerate}
                            \item \textbf{(The identity is a closed immersion):}
                            \item \textbf{(The conormal sheaf associated to the identity):}
                        \end{enumerate}
                    \end{proof}
                    
            \subsubsection{Properties of group schemes over a field}
                
            \subsubsection{Properties of algebraic groups}
                \begin{theorem}[Cartier's Smoothness Theorem] \label{theorem: algebraic_groups_over_characteristic_0_are_smooth} \index{Algebraic groups! are smooth over characteristic $0$}
                    Let $k$ be a ground field of characteristic $0$. Then, any locally algebraic group over $\Spec k$ is smooth.
                \end{theorem}
                    \begin{proof}
                        Firstly, because smoothness is a local property (cf. definition \ref{def: standard_smoothness}), we can assume that $G$ is affine. This, in particular, implies that $G$ is of finite type instead of being merely \textit{locally} of finite type. Now, we will attempt to show that $G$ is of finite presentation, instead of being merely of finite type, and formally smooth. 
                    \end{proof}
                    
                Algebraic groups over positive characteristics $p$ are, however, not so nice. Consider, for instance, the algebraic group $(\mu_p)_{/k}$ of $p^{th}$ roots of unity over some field $k$ of characteristic $p$ that is \textit{not} perfect. This algebraic group is represented by the affine scheme $\Spec \frac{k[x]}{(x^p - 1)}$; the associated Jacobian is thus visibly singular, and $(\mu_p)_{/k}$ is therefore not smooth. Due to this pathology, we will need to figure out the necessary and sufficient conditions for algebraic groups to be smooth over positive characteristics.
                \begin{theorem}[Cartier's Smoothness Theorem over positive characteristics] \label{theorem: smoothness_of_algebraic_groups_over_characteristic_p} \index{Algebraic groups! are smooth over characteristic $p$}
                    Let $k$ be a \textit{perfect} ground field of some prime characteristic $p$ and let $G$ be a \textit{reduced} locally algebraic group scheme over $\Spec k$. Then, $G$ is smooth over $\Spec k$.
                \end{theorem}
                    \begin{proof}
                        
                    \end{proof}
                \begin{corollary}[Algebraic groups over algebraically closed fields are smooth]
                    In particular, reduced group schemes over algebraically closed ground fields are always smooth (note how schemes are \textit{a priori} reduced in characteristic $0$).
                \end{corollary}
                \begin{remark}
                    Every assumption in theorem \ref{theorem: smoothness_of_algebraic_groups_over_characteristic_p} is crucial. If $k$ is a \textit{non-perfect} field of characteristic $p$ and $a \in k$ is not a $p^{th}$ power, then for instance, the closed subgroup scheme $\Spec \frac{k[x, y]}{(x^p + ay^p)}$ of the additive group scheme $\Spec k[x, y]$ is reduced but not smooth.
                \end{remark}
                
                Algebraic groups over positive characteristics are not wholefully pathological, though. Their geometries are somewhat intuitive.
                \begin{proposition}[Algebraic groups are equidimensional] \label{prop: algebraic_groups_are_locally_equidimensional} \index{Algebraic groups! are equidimensional}
                    Let $k$ be an arbitrary field and let $G$ be a locally algebraic group over $\Spec k$. Then, $G$ is locally equidimensional, in the sense that:
                        $$\forall g \in G: \dim G = \dim_g G$$
                    where $\dim_g G := \inf\{\dim U \in \Ouv_{\Zar}(G) \mid U \ni g\}$; in particular, if $g \in |G|$ is a closed point, then:
                        $$\dim G = \dim \calO_{G, g}$$
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
                \begin{corollary}
                    Integral algebraic groups (such as group varieties) are equidimensional, in the sense that even over the their generic fibre, say $\eta$, one has:
                        $$\dim G = \dim \calO_{G, \eta}$$
                \end{corollary}
                
                \begin{proposition}[Algebraic groups are quasi-projective] \label{prop: algebraic_groups_are_quasi_projective} \index{Algebraic groups! are quasi-projective}
                    Let $k$ be an \textit{arbitrary} ground field and let $G$ be an algebraic group over $\Spec k$. Then, $G$ is quasi-projective as a scheme over $\Spec k$.
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
                
                \begin{proposition}
                    If $k$ is an algebraically closed ground field (which we shall allow to be of arbitrary characteristic), then for $G$ a locally algebraic group over $\Spec k$ and $g_1, ..., g_n \in G(k)$ a finite number of $k$-rational points thereof, there exists an affine open subscheme $U$ of $G$ that contains the points $g_1, ..., g_n$; this is to say, there exist an affine open subscheme $U$ of $G$ such that all the following liftings exist:
                        $$
                            \begin{tikzcd}
                            	& U \\
                            	{\Spec k} & G
                            	\arrow[hook, from=1-2, to=2-2]
                            	\arrow["{g_i}", from=2-1, to=2-2]
                            	\arrow["{g_i|_U}", dashed, from=2-1, to=1-2]
                            \end{tikzcd}
                        $$
                \end{proposition}
                    \begin{proof}
                        Without loss of generality, we may assume that $G$ is connected, or atleast, that the points $g_1, ..., g_n$ are all on the same connected component of $G$.   
                    \end{proof}
                    
        \subsection{Some useful results}
            \subsubsection{Actions, quotients, and Chevalley's Theorem}
                \begin{proposition}[Quotients by algebraic groups] \label{prop: quotients_by_algebraic_groups}
                    Let $k$ be a field and let $G$ be an algebraic group over $\Spec k$. Additionally, fix a Zariski-closed subgroup $H \leq G$ (which we note to also be an algebraic group over $\Spec k$). Then:
                        \begin{enumerate}
                            \item the quotient fppf-sheaf $G/H$ carries the structure of a scheme over $\Spec k$,
                            \item $G/H$ is a locally algebraic group scheme if and only if $H$ is a normal subgroup of $G$,
                            \item the quotient map $G \to G/H$ is a $H$-invariant faithfully flat morphism of schemes over $\Spec k$.
                        \end{enumerate}
                \end{proposition}
                    \begin{proof}
                        \noindent
                        \begin{enumerate}
                            \item First of all, since the fppf topos $(\Spec k)_{\fppf}$ is cocomplete, the quotient sheaf $G/H$ must exist. Second of all, because group scheme actions define fppf-equivalence relations, it is not hard to see that $G/H$ is an fppf-algebraic space. 
                            \item 
                            \item 
                        \end{enumerate}
                    \end{proof}
                
                \begin{theorem}[Chevalley's Decomposition Theorem] \label{theorem: chevalley_decomposition_theorem}
                    This is also known as \textbf{Chevalley's Structure Theorem} and \textbf{Chevelley's theorem on algebraic groups}.
                
                    Let $k$ be a perfect field and let $G$ be an algebraic group over $\Spec k$. Then, $G$ decomposes into a \textit{normal} (and necessarily closed) linear algebraic subgroup $H$ and an abelian variety $A$ via the following short exact sequence of algebraic groups over $\Spec k$:
                        $$1 \to H \to G \to A \to 1$$
                \end{theorem}
                \begin{remark}[Short exact sequences of algebraic groups ?] \label{remark: short_exact_sequences_algebraic_groups}
                    Thanks to proposition \ref{prop: quotients_by_algebraic_groups}, the notion of short exact sequences makes sense for algebraic groups. In particular, for any algebraic group $G$, one defines the cokernel of a closed immersion $H \trianglelefteq G$ of a normal algebraic subgroup $H$ to precisely be the canonical quotient map $G \to G/H$. Then, one can define the kernel of this quotient map simply as the canonical pullback $G \x_{G/H} 1$, which is possible thanks to the left-exactness of the Yoneda embedding. 
                    
                    One thing to note is that these notions of (co)kernels do not differ from those within (pre-)abelian categories, at least from a categorical standpoint. This is because the category of (locally) algebraic groups over a fixed base scheme admits a zero object, namely that very base scheme. 
                \end{remark}
                    \begin{proof}[Proof of theorem \ref{theorem: chevalley_decomposition_theorem}]
                        
                    \end{proof}
            
            \subsubsection{Grothendieck's theorem on tori}
            
        \subsection{The geometry of torsors}
            This subsection shall be dedicated to the study of $\Bun_G(X)$, the algebraic stack of principal $G$-bundles (with $G$ some affine algebraic group) over a smooth, projective, and geometrically connected curve $X$ over some field $k$ of charactersitic $0$. 
            
            \subsubsection{The geometry of \texorpdfstring{$\Bun_G(X)$}{}}
                \begin{definition}[$\Bun_G$] \label{def: Bun_G}
                    By $\Bun_G(X)$, we will mean the moduli space of $G$ bundles (cf. definition \ref{def: moduli_space}), i.e. the $(2, 1)$-sheaf on $(\Sch_{/\Spec k})_{\fppf}$ given - for each $S \in \Sch_{/\Spec k}$ - via $\Bun_G(X)(S)$ being the core of the category of $G$-bundles on $X \x_{/\Spec k} S$.
                \end{definition}
                
                Since every affine algebraic groups are closed subschemes of $\GL_n$, let us first try to understand $\Bun_{\GL_n}(X)$.
                \begin{proposition}[The geometry of $\Bun_{\GL_n}(X)$] \label{prop: geometry_of_Bun_GLn}
                    $\Bun_{\GL_n}(X)$ is a smooth algebraic stack that is locally of finite type and with diagonal representable (cf. definition \ref{def: affine_schematic}) by an affine scheme.
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
                \begin{proposition}[The geometry of $\Bun_G(X)$] \label{prop: geometry_of_Bun_G}
                    $\Bun_G(X)$ is a smooth algebraic stack that is locally of finite type and with diagonal representable (cf. definition \ref{def: affine_schematic}) by an affine scheme.
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
                    
                \begin{proposition}[Dimension of $\Bun_G(X)$] \label{prop: dimension_of_Bun_G}
                    If $G$ is reductive (cf. definition \ref{def: tori_and_reductive_groups}) and $X$ has genus $g$ then:
                        $$\dim \Bun_G(X) = (g - 1)\dim G$$
                \end{proposition}
                    \begin{proof}
                                
                    \end{proof}
            
            \subsubsection{Weil Uniformisation}
                \begin{convention}
                    Denote the function field of $X$ by $K_X$, its ring of integers by $\scrO_X$, and the corresponding ring of ad\`eles by $\scrA_X$. 
                \end{convention}
                
                \begin{theorem}[Weil Uniformisation] \label{theorem: weil_uniformisation}
                    There is a canonical equivalence of stacks:
                        $$G(K_X) \backslash G(\scrA_X) / G(\scrO_X) \cong \Bun_G(X)$$
                \end{theorem}
                    \begin{proof}
                        
                    \end{proof}
    
    \section{Reductive groups}
        \subsection{Generalities}
            \begin{definition}[Unipotent groups] \label{def: unipotent_groups}
                Let $k$ be an algebraically closed field and let $G$ be a linear algebraic group over $\Spec k$. Also, fix a natural number $n$. $G$ is said to be \textbf{unipotent} if and only if it is a Zariski-closed subgroup of the unipotent group:
                    $$(\opU_n)_{/k} \cong \Spec \frac{k[x_{11}, x_{12}, ..., x_{nn}]}{(\forall 1 \leq j \leq i \leq n: x_{i = j} = 1, x_{i > j} = 0)}$$
                of upper-triangular $n \x n$ matrices with entries in $k$.
            \end{definition}
            \begin{remark}[Unipotent groups are linear algebraic groups] \label{remark: unipotent_groups_are_linear_algebraic_groups}
                \noindent
                \begin{enumerate}
                    \item \textbf{(Embedding into $\GL_n$):} Since the determinants of upper triangular matrices are just the products of the diagonal entries, and since $1$ is always a unit (which implies that $(\opU_n)_{/k} \cong (\opU_n)_{/k}\left[\frac{1}{\det}\right]$), $(\opU_n){/k}$ is indeed a Zariski-closed subgroup of $(\GL_n)_{/k} \cong \Spec k[x_{11}, x_{12}, ..., x_{nn}]\left[\frac{1}{\det}\right]$. 
                    \item \textbf{(Elements of unipotent groups are unipotent):} One can show that the eigenvalues of any upper-triangular matrix are all equal to $1$, and hence these matrices are unipotent by definition (recall that an element $r \in R$ of a ring $R$ - which need not be commtuative - is unipotent if and only if $r - 1$ is nilpotent); to show why the eigenvalues all being $1$ is a sufficient and necessary condition, simply apply the Jordan Canonical Decomposition. Elements of unipotent groups are thus indeed unipotent.
                \end{enumerate}
            \end{remark}
            \begin{definition}[Radicals] \label{def: radicals_of_algebraic_groups}
                Let $k$ be an algebraically closed field and let $G$ be a connected smooth algebraic group over $\Spec k$. 
                    \begin{enumerate}
                        \item \textbf{(Solvability):} $G$ is said to be \textbf{solvable} if its group of $k$-rational points $G(k)$ is solvable, i.e. if the \href{https://ncatlab.org/nlab/show/derived+series}{\underline{derived series}} of $G(k)$:
                            $$G(k) \geq G(k)^{(1)} \geq ... $$
                        terminates at the trivial group after \textit{finitely} many steps. 
                        \item \textbf{(Radicals):} The \textbf{radical} of $G$, denoted by $\scrR_G$, is the maximal normal solvable algebraic subgroup of $G$. 
                    \end{enumerate}
            \end{definition}
            \begin{remark}[Unipotent radicals] \label{remark: unipotent_radicals}
                Let $k$ be an algebraically closed field and let $G$ be a linear algebraic group over $\Spec k$, and note that within such a setting, the radical $\scrR_G$ is necessarily affine too. Then, the \textbf{unipotent radical} of $G$ (denoted by $\U_G$) is maximal unipotent subgroup of $\scrR_G$; at the level of $k$-rational points, one also has:
                    $$\U_G(k) = \scrR_G(k) \cap U_G(k)$$
                where $U_G \trianglelefteq G$ is the maximal unipotent \textit{normal} subgroup of $G$.
            \end{remark}
            
            \begin{definition}[Tori and reductive groups] \label{def: tori_and_reductive_groups}
                Fix a base scheme $S$. We then have the following hierachy of (affine) algebraic groups:
                \begin{enumerate}
                    \item \textbf{(Algebraic tori):} An \textbf{algebraic $S$-torus} is a \textit{finite} product of $(\G_m)_{/S}$, the base change of $\G_m$ (understood to be over $\Spec \Z$) to $S$.
                    \item \textbf{(Reductive and semi-simple algebraic groups):} 
                        \begin{enumerate}
                            \item \textbf{(Semi-simple groups):} A linear algebraic $S$-group $G$ is \textbf{semi-simple} if and only if its geometric fibres $G_{\bar{x}}$ are semi-simple, which is to say, their radicals $\scrR_{G_{\bar{x}}}$ are all trivial. 
                            \item \textbf{(Reductive groups):} A linear algebraic $S$-group $G$ is \textbf{reductive} if and only if its geometric fibres $G_{\bar{x}}$ are reductive, which is to say, their unipotent radicals $\U_{G_{\bar{x}}}$ are all trivial.
                        \end{enumerate}
                \end{enumerate}
            \end{definition}
            \begin{remark} \label{remark: tori_and_reductive_groups}
                Let $S$ be a base scheme and let $G$ be a linear algebraic group over $S$.
                \begin{enumerate}
                    \item \textbf{(Tori are reductive):} First of all, since tori are abelian, their derived series are trivial and they are therefore automatically solvable. As a consequence, the radical of a torus is just the whole group, and thus any torus is semi-simple. This also implies that tori are reductive, as the unipotent radical - being the intersection of the radical and the maximal unipotent subgroup - must be trivial if the radical is trivial.
                    
                    Non-trivial tori, however, are not unipotent, since diagonal matrices are not necessarily the identity.
                    \item \textbf{(Semi-simple groups are reductive):} This is easy, as the radical being trivial obviously implies that the unipotent radical is trivial too (this is the other way to show that tori are reductive). 
                    
                    The converse statement is not true in general. For instance, unipotent groups are not reductive, as the unipotent radical of one such group is just the entire group.
                \end{enumerate}
            \end{remark}
                    
        \subsection{Special subgroups of reductive groups; flag varieties}
            
        \subsection{Kempf's Vanishing Theorem over \texorpdfstring{$\Z$}{}}
            \begin{convention}
                Throughout this subsection, we work with the following objects over a fixed perfect base field $k$:
                    \begin{itemize}
                        \item a semi-simple and simply connected algebraic group $G$, a maximal torus $T$ contained inside some Borel subgroup $B \leq G$,
                        \item the flag variety $\pi: G/B \to \Spec k$
                        \item $\bbX(T)$ the weight lattice/character group,
                        \item the root lattice $\Phi$ coroot lattice $\check{\Phi}$,
                        \item if $S_B$ denotes the set of simple roots relative to a choice of Borel subgroup $B$ which contains the fixed maximal torus $T$, then we shall write $P_{\alpha}$ for the minimal parabolic subgroup of $G$ attached to $\alpha$.
                    \end{itemize}
            \end{convention}
        
            \subsubsection{Semi-orthogonal decomposition for flag varieties}
                \begin{proposition}
                    
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
            
            \subsubsection{The Steinberg line bundle}
        
        \subsection{Split reductive groups}
        
    \section{The Geometric Satake Equivalence and Langlands Duality}
        \subsection{The abelian version}
            \subsubsection{Beauville-Laszlo Uniformisation and the affine Grassmannian}
                \paragraph{Vector bundles on the formal disc and Beauville-Laszlo Uniformisation}
                    \begin{convention}
                        For now, by \say{vector bundles} on a locally Noetherian scheme $X$, we shall mean \say{locally free coherent sheaves}, which \textit{a priori} form a category - denoted by $\Vect(X)$ - equivalent to the full subcategory of $\Coh(X)$ spanned by projective objects. 
                    \end{convention}
                    \begin{remark}
                        Over every locally Noetherian scheme $X$, the category of vector bundles $\Vect(X)$ is not abelian. However, it is \href{https://ncatlab.org/nlab/show/exact+category}{\underline{exact}}.
                    \end{remark}
                    
                    \begin{convention}[Formal discs]
                        For any commutative ring $R$, we denote by $\bbD_R$ the formal disc $\Spec R[\![t]\!]$ and by $\bbD_R^{\circ}$ the punctured formal disc $\Spec R(\!(t)\!)$.
                    \end{convention}
                    
                    \begin{lemma}[Vector bundles on the formal disc] \label{lemma: vector_bundles_on_the_formal_disc}
                        Let $R$ be a Noetherian commutative ring. Then, one has the following $1$-limit of locally small categories:
                            $$\Vect(\bbD_R) \cong \underset{n \in \N}{\lim} \Vect(\Spec R[t]/t^{n + 1})$$
                    \end{lemma}
                        \begin{proof}
                            
                        \end{proof}
                
                \paragraph{The affine Grassmannian}
                    \begin{definition}[Local affine Grassmannians] \label{def: local_affine_grassmannians}
                        For any algebraic group $G$ over some base commutative ring $k$, there is a canonically defined moduli space, denoted by $\Gr_G^{\loc}$ and called the \textbf{\textit{local} affine Grassmannian} attached to $G$. It is the prestack which assigns to each $\Spec R \in \Sch_{/\Spec k}^{\aff}$ the groupoid that is the core of the category of $G$-torsors on $\bbD_R$ that trivialise over $\bbD_R^{\circ}$.  
                    \end{definition}
                    \begin{remark}
                        \noindent
                        \begin{itemize}
                            \item It is rather easy to see that $\Gr_G^{\loc}$ satisfies fppf descent and hence a stack in the fppf topology.
                            \item Furthermore, by introducing the so-called loop and arc groups $G[\![t]\!]$ and $G(\!(t)\!)$, defined by $G[\![t]\!](R) \cong G(R[\![t]\!])$ and $G(\!(t)\!)(R) \cong G(R(\!(t)\!))$ respectively, one can show that:
                                $$\Gr_G^{\loc} \cong G(\!(t)\!)/G[\![t]\!]$$
                            using the fact that $G(\!(t)\!)$ acts on $\Gr_G^{\loc}$ by changing the trivialisation. This is an important description of the affine Grassmannian, so let us state and prove it properly (cf. proposition \ref{prop: affine_grassmannians_as_coset_spaces}).
                        \end{itemize}
                    \end{remark}
                    
                    \begin{convention}
                        Let $k$ be a commutative ring and let $R$ be a commutative $k$-algebra. Then, for any scheme $X \in \Sch_{/\Spec k}$, we shall write $X_R$ for the base-change $X \x_{\Spec k} \Spec R$.
                    \end{convention}
                    \begin{definition}[Global affine Grassmannians] \label{def: global_affine_grassmannians}
                        Let $k$ be a field, $X$ be an algebraic curve over $\Spec k$, and $G$ be an algebraic group over $\Spec k$. Additionally, fix a $k$-rational point $x \in |X|$. Then, we define the \textbf{global affine Grassmannian} or \textbf{Hecke stack}\footnote{A terminology we shall reserve for later.} over $X$ attached to $G$, denoted by $\Gr_{G, X}^{\glob}$, to be the prestack that assigns to each $\Spec R \in \Sch_{/\Spec k}^{\aff}$ the core of the category of $G$-torsors on $X_R$ which trivialise over $(X \setminus \{x\})_R$.
                    \end{definition}
                    \begin{remark}[Local-to-global compatibility] \label{remark: local_to_global_for_affine_grassmannians}
                        Let $k$ be a field, $X$ be an algebraic curve over $\Spec k$, and $G$ be an algebraic group over $\Spec k$. Also, fix a $k$-rational point $x \in |X|$ and denote by $\Gr_{G, X, x}^{\loc}$ the local affine $G$-Grassmannian over the formal disc $\bbD$ around $x$ (cf. definition \ref{def: local_affine_grassmannians}). Then, via Beauville-Laszlo Uniformisation, one can easily show that:
                            $$\Gr_{G, X}^{\glob} \cong \Gr_{G, X, x}^{\loc}$$
                    \end{remark}
                    \begin{convention}
                        From now on, we shall write $\Gr_G$ instead of $\Gr_G^{\loc}$.
                    \end{convention}
                    
                    \begin{proposition}[Structure of affine Grassmannians] \label{prop: structure_of_affine_grassmannian}
                        Let $G$ be an algebraic group. Then:
                            \begin{enumerate}
                                \item $\Gr_G$ is an ind-scheme of ind-finite type, and
                                \item when $G$ is reductive over some field $k$, $\Gr_G$ will be ind-projective.
                            \end{enumerate}
                    \end{proposition}
                        \begin{proof}
                            \noindent
                            \begin{enumerate}
                                \item 
                                \item 
                            \end{enumerate}
                        \end{proof}
                        
                    \begin{proposition}[Affine Grassmannians as coset spaces] \label{prop: affine_grassmannians_as_coset_spaces}
                        Let $G$ be an algebraic group. Then, $\Gr_G \cong G(\!(t)\!)/G[\![t]\!]$.
                    \end{proposition}
                        \begin{proof}
                            
                        \end{proof}
                    \begin{corollary}
                        Let $k$ be a field, $X$ be an algebraic curve over $\Spec k$, and $G$ be an algebraic group over $\Spec k$. Also, fix a $k$-rational point $x \in |X|$. Then $\Gr_{G, X}^{\glob} \cong G(\!(t)\!)/G[\![t]\!]$.
                    \end{corollary}
                    \begin{corollary}[Loop group action on Grassmannians] \label{coro: loop_group_action_on_grassmannians}
                        There is a $G[\![t]\!]$-action on $\Gr_G$, which means that one can now meaningfully discuss equivariance of sheaves on the affine Grassmannian $\Gr_G$. In particular, we shall be interested in $G[\![t]\!]$-equivariant (i.e. \say{spherical}) D-modules on $\Gr_G$.
                    \end{corollary}
                    
                \paragraph{The Hecke stack and the factorisable Grassmannian}
                    \begin{definition}[The Hecke (pre)stack] \label{def: hecke_stack}
                        Let $k$ be a field, $X$ be an algebraic curve over $\Spec k$, and $G$ be an algebraic group over $\Spec k$. Additionally, fix a finite set of $k$-rational points $x_1, ..., x_n \in |X|$, which we shall view as a $k$-rational point $\vec{x} \in |X^n|$. Then, we define the \textbf{Hecke stack} over $X$ attached to $G$, denoted by $\Hecke_{G, X^n}$, to be the prestack that assigns to each $\Spec R \in \Sch_{/\Spec k}^{\aff}$ the core of the category of $G$-torsors on $X_R$ which trivialise over $(X \setminus \{x_1, ..., x_n\})_R$. 
                        
                        Alternatively, one defines $\Hecke_{G, X^n}$ as the prestack that assigns to each $\Spec R \in \Sch_{/\Spec k}^{\aff}$ the core of the category of $G$-torsors (\textit{not $G^n$-torsors!}) on $X^n_R$ which trivialise over $(X^n \setminus \{\vec{x}\})_R$. 
                    \end{definition}
                    \begin{remark}
                        It is an immediate consequence of the definitions that:
                            $$\Hecke_{G, X^1} \cong \Gr_{G, X}^{\glob}$$
                        and via remark \ref{remark: local_to_global_for_affine_grassmannians}, one also has the following equivalence of fppf-stacks:
                            $$\Hecke_{G, X^1} \cong \Gr_G$$
                    \end{remark}
            
            \subsubsection{Convolutions of spherical D-modules, the fusion product, and the rigid-monoidal structure on spherical D-modules}
                \begin{convention}
                    From now on, our ground field $k$ shall be of characteristic $0$.
                \end{convention}
                
                \paragraph{Convolution of equivariant sheaves on the affine Grassmannian and properties thereof}
                    \begin{definition}[Spherical D-modules] \label{def: spherical_D_modules}
                        Let $k$ be a field, $X$ be an algebraic curve over $\Spec k$, and $G$ be an algebraic group over $\Spec k$. Additionally, fix a finite set of $k$-rational points $x_1, ..., x_n \in |X|$. Then, the category of $G[\![t]\!]$-equivariant D-modules on the Hecke stack $\Hecke_{G, X^n}$, which we shall denote by $\Sph_{G, X^n}$, shall be called the $n^{th}$ category of \textbf{$G$-spherical D-modules} on $X$.
                    \end{definition}
                    \begin{remark}
                        Since the ground field $k$ is of characteristic $0$ and because $\Gr_G \cong \Hecke_{G, X^1}$ is an ind-scheme of ind-finite type, the category $\Dmod(\Gr_G)$ is well-defined. The category $\Sph_{G, X^1} \cong \Dmod(\Gr_G)^{G[\![t]\!]}$ can then be obtained via consideration of the natural $G[\![t]\!]$-action on $\Gr_G$. 
                                
                        We shall discuss the well-definiteness of $\Sph_{G, X^n}$ for $n > 1$ later.
                    \end{remark}
                    \begin{convention}
                        Thanks to the local-to-global compatibility of the affine Grassmannian established in remark \ref{remark: local_to_global_for_affine_grassmannians}, we shall henceforth be abbreviating $\Sph_{G, X^1}$ down to $\Sph_G$.
                    \end{convention}
                    
                \paragraph{Commutativity}
            
            \subsubsection{Hecke eigensheaves}
            
            \subsubsection{Fibre functors and weights}
            
            \subsubsection{Langlands Duality}
            
        \subsection{The quantised derived version}