\chapter{Smoothness} \label{chapter: smoothness}
    \begin{abstract}
        
    \end{abstract}
    
    \minitoc
    
    \section{Differentials and smoothness}
        \subsection{The cotangent complex formalism}
            \subsubsection{K\"ahler differentials, reprised} \label{subsubsection: kahler_differentials}
                \paragraph{As objects generated by derivations}
                    \begin{definition}[(Pre)derivations and Leibniz algebras] \label{def: derivations}
                        Let $k$ be a ring (which need not be commutative) and let $(\O, \tensor, 1)$ be a $k$-linear monoidal category. 
                            \begin{enumerate}
                                \item \textbf{(Prederivations):} A \textbf{left/right/two-sided-prederivation} on an (not necessarily associative, commutative, nor unital) algebra $\left(\g, \nabla\right)$ internal to $\O$ is an endomorphism:
                                    $$D: \g \to \g$$
                                thereon that turns the triple $\left(\g, \nabla, D\right)$ into an \textbf{additive left/right/two-sided-Leibniz algebra}. That is to say, we require the following diagram to commute in $\O$:
                                    $$
                                        \begin{tikzcd}
                                        	{\g \tensor \g} & {\g} \\
                                        	{\g \tensor \g} & {\g}
                                        	\arrow["{D}", from=1-2, to=2-2]
                                        	\arrow["{\nabla}", from=2-1, to=2-2]
                                        	\arrow["{\nabla}", from=1-1, to=1-2]
                                        	\arrow["{D \tensor \id_{\g} + \id_{\g} \tensor D}"', from=1-1, to=2-1]
                                        \end{tikzcd}
                                    $$
                                \item \textbf{(Derivations):} If $\g$ also happens to be a unital algebra (with unit map $\eta: 1 \to \g$), then we require that the following diagram commutes:
                                    $$
                                        \begin{tikzcd}
                                        	{1} & {\g} \\
                                        	& {\g}
                                        	\arrow["{D}", from=1-2, to=2-2]
                                        	\arrow["{\eta}", from=1-1, to=1-2]
                                        	\arrow["{0}"', from=1-1, to=2-2]
                                        \end{tikzcd}
                                    $$
                                whererin $0$ is understood to be the additive identity in the $k$-module $\O(1, \g)$. In this situation, we call the quadruple $(\g, \nabla, D, \eta)$ a \textbf{linear Leibniz algebra}, and specifically, the prederivation $D$ will be referred to simply as a \textbf{derivation}.
                            \end{enumerate}
                    \end{definition}
                    \begin{remark}
                        If there exists a notion of elements inside objects of $\O$ (should $\O$ be the linear monoidal category of modules over a ring, for example), then the information that the diagrams in definition \ref{def: derivations} carry can also be understood as the following statement:
                            $$\forall x, y \in \g: D \nabla(x \tensor y) = \nabla(Dx \tensor y) + \nabla(x \tensor Dy)$$
                        and again, if $\g$ is unital, then:
                            $$\forall a \in 1: D(a) = 0$$
                        which are just conditions imposed upon derivations in more familiar definitions (see, for instance, \cite[\href{https://stacks.math.columbia.edu/tag/00RN}{Tag 00RN}]{stacks}). 
                    \end{remark}
                    
                    \begin{proposition}[Categories of Leibniz algebras] \label{prop: leibniz_algebra_categories}
                        Let $k$ be a ring and let $(\O, \tensor, 1)$ be a monoidal $k$-linear category. Additive and linear Leibniz algebras internal to $\O$ form subcategories of $\Alg(\O)$, which we shall repsectively denote by $\Leib\Alg(\O)$ and $\Assoc\Leib\Alg(\O)$. Furthermore, one has the following diagram of \textit{fully faithful} embeddings of categories:
                            $$
                                \begin{tikzcd}
                                	{\Alg(\O)} & {\Assoc\Alg(\O)} \\
                                	{\Leib\Alg(\O)} & {\Assoc\Leib\Alg(\O)}
                                	\arrow[hook', from=2-1, to=1-1]
                                	\arrow[hook', from=2-2, to=1-2]
                                	\arrow[hook, from=2-1, to=2-2]
                                	\arrow[hook, from=1-1, to=1-2]
                                \end{tikzcd}
                            $$
                    \end{proposition}
                        \begin{proof}
                            \noindent
                            \begin{enumerate}
                                \item \textbf{(Additive Leibniz algebras):} Let $(\g, \nabla, D)$ and $(\g', \nabla', D')$ be two additive Leibniz algebras. Then, let us declare that a morphism of additive Leibniz algebras internal to $\O$ is an algebra homomorphism $\phi: \g \to \g'$ (i.e. a morphism satisfying $\phi \circ \nabla = \nabla\ \circ (\phi \tensor \phi)$) such that:
                                    $$\phi \circ D = D' \circ \phi$$
                                It will suffice to show that the following diagram commutes:
                                    $$
                                        \begin{tikzcd}
                                        	& {\g' \tensor \g'} & {\g'} \\
                                        	& {\g' \tensor \g'} & {\g'} \\
                                        	{\g \tensor \g} & {\g} \\
                                        	{\g \tensor \g} & {\g}
                                        	\arrow["{\phi \tensor \phi}", from=3-1, to=1-2]
                                        	\arrow["{\phi}", from=3-2, to=1-3]
                                        	\arrow["{\phi}", from=4-2, to=2-3]
                                        	\arrow["{D'}", from=1-3, to=2-3]
                                        	\arrow["{\nabla'}", from=1-2, to=1-3]
                                        	\arrow["{D' \tensor \id_{\g'} + \id_{\g'} \tensor D'}"', from=1-2, to=2-2]
                                        	\arrow["{\nabla'}", from=2-2, to=2-3]
                                        	\arrow["{D}", from=3-2, to=4-2]
                                        	\arrow["{D \tensor \id_{\g} + \id_{\g} \tensor D}"', from=3-1, to=4-1]
                                        	\arrow["{\nabla}"', from=4-1, to=4-2]
                                        	\arrow["{\nabla}"', from=3-1, to=3-2]
                                        	\arrow["{\phi \tensor \phi}", from=4-1, to=2-2]
                                        \end{tikzcd}
                                    $$
                                if we are simply trying to show that additive Leibniz algebras form a full subcategory of $\O$. To that end, consider the following:
                                    $$
                                        \begin{aligned}
                                            \phi \circ D \circ \nabla & = \phi \circ \nabla \circ \left(D \tensor \id_{\g} + \id_{\g} \tensor D\right)
                                            \\
                                            & = \nabla' \circ (\phi \tensor \phi) \circ \left(D \tensor \id_{\g} + \id_{\g} \tensor D\right)
                                            \\
                                            & = \nabla' \circ \left((\phi \circ D) \tensor \phi + \phi \tensor (\phi \circ D)\right)
                                            \\
                                            & = \nabla' \circ \left((D' \circ \phi) \tensor \phi + \phi \tensor (D' \circ \phi)\right)
                                            \\
                                            & = \nabla' \circ \left(D' \tensor \id_{\g'} + \id_{\g'} \tensor D'\right) \circ (\phi \tensor \phi)
                                            \\
                                            & = D' \circ \nabla' \circ (\phi \tensor \phi)
                                        \end{aligned}
                                    $$
                                \item \textbf{(Linear Leibniz algebras):} Because linear Leibniz algebras are additive Leibniz algebras that also happen to be unital, it will be enough to prove that the following diagram, wherein $\eta$ and $\eta'$ are the units and $\phi$ is once again just some algebra homomorphism (note that every algebra homomorphism respects units \textit{a priori}), commutes:
                                    $$
                                        \begin{tikzcd}
                                        	&& {1} & {\g'} \\
                                        	{1} & {\g} && {\g'} \\
                                        	& {\g}
                                        	\arrow["{\phi}", from=2-2, to=1-4]
                                        	\arrow["{\phi}", from=3-2, to=2-4]
                                        	\arrow["{\eta}" description, from=2-1, to=2-2]
                                        	\arrow["{D}", from=2-2, to=3-2]
                                        	\arrow["{D'}", from=1-4, to=2-4]
                                        	\arrow["{\eta'}" description, from=1-3, to=1-4]
                                        	\arrow[Rightarrow, from=2-1, to=1-3, no head]
                                        	\arrow["{0}"', from=2-1, to=3-2]
                                        	\arrow["{0}"', from=1-3, to=2-4]
                                        \end{tikzcd}
                                    $$
                                To that end, consider the following:
                                    $$
                                        \begin{aligned}
                                            D' \circ \phi \circ \eta & = D' \circ \eta'
                                            \\
                                            & = D' \circ 0
                                            \\
                                            & = 0
                                            \\
                                            & = \phi \circ 0
                                            \\
                                            & = \phi \circ D \circ \eta
                                        \end{aligned}
                                    $$
                                By matching the terms in these equations with composition of arrows in the preceding two diagrams, we can see that the diagrams indeed commute.
                            \end{enumerate}
                        \end{proof}
                    \begin{example}[Examples of derivations and Leibniz algebras] \label{example: derivations}
                        \noindent
                        \begin{enumerate}
                            \item \textbf{(The adjoint representation):} Let $k$ be a ring and let $\left(\g, [-,-]\right)$ be a Lie algebra internal to the braided symmetric monoidal $k$-linear category ${}_k\Mod_k$ of two-sided $k$-modules. Then, notice that for all $x \in \g$, the adjoint operator $\ad(x) := [x,-]$ is a left-derivation and thus turns every triple $\left(\g, [-,-], \ad(x)\right)$ into an additive left-Leibniz algebra.
                            \item \textbf{(K\"ahler differentials and a \textit{raison d'\^etre}):} Let $A$ be a \textit{commutative} ring. Then, the linear Leibniz algebras on monoid objects $B$ of the $A$-linear symmetric monoidal category ${}_A\Mod$ are just modules of K\"ahler differentials on $B$ over $A$ (note the plurality of "modules"; we will prove that there is a universal one in theorem \ref{theorem: kahler_differentials_universal_property}). This might seem a bit strange, because usually, one would think of modules of K\"ahler differentials as mere modules instead of algebras equipped with a derivation. However, if we would recall that the module of K\"ahler differentials $\Omega^1_{B/A}$ defined with respect to some ring map $\phi: A \to B$ and some $A$-linear derivation $d$ on $B$ is just the one generated by the symbols $db$, which are subjected to the following relations:
                                $$\forall a \in A: d\left(\phi(a)\right) = 0$$
                                $$\forall (b, b') \in B \x B: d(b + b') = db + db'$$
                                $$\forall (b, b') \in B \x B: d(bb') = db \cdot b' + b \cdot db'$$
                            (see \cite[\href{https://stacks.math.columbia.edu/tag/00RM}{Tag 00RM}]{stacks} for more details), then we would see that every module of K\"ahler differentials $\Omega^1_{B/A}$ comes equipped with an $A$-linear map satisfying the above specifications from $B$:
                                $$d: B \to \Omega^1_{B/A}$$
                            By simply evaluating the formal symbols $db$ at elements of $B$, one would recover the notion of derivations as endomorphisms. Thus, commutative linear Leibniz algebras are the same thing as modules of K\"ahler differentials. 
                            
                            We shall package these observations neatly into the content of theorem \ref{theorem: kahler_differentials_universal_property}. 
                        \end{enumerate}
                    \end{example}
                    \begin{remark}[Commutative Leibniz algebras] \label{remark: commutative_leibniz_algebras}
                        Let $k$ be a ring and let $(\O, \tensor, 1)$ be a monoidal $k$-linear category. Then inside $\Assoc\Leib\Alg(\O)$, there lies a full subcategory $\Comm\Alg(\O)$ spanned by Leibniz algebras whose underlying algebra object is associative, unital, and furthermore, commutative.
                    \end{remark}
                    
                    We shall now state our main theorem, which establishes the existence and accompanying universal property of K\"ahler differentials \textit{internally}.
                    \begin{theorem}[\textcolor{red}{\underline{\textbf{IMPORTANT}}} Modules of K\"ahler differentials are free commutative Leibniz algebras] \label{theorem: kahler_differentials_universal_property}
                        Let $k$ be a ring and let $(\calA, \tensor, 1)$ be a two-sided $k$-linear monoidal category (i.e. a category enriched over the symmetric monoidal category ${}_k\Mod_k$ of two-sided $k$-modules) that is \textit{pre-abelian} (this is to ensure that kernels exist). Then, (two-sided) $k$-linear K\"ahler differentials arise naturally from the following forgetful-free adjunction:
                            $$
                                \begin{tikzcd}
                                	{\Comm\Leib\Alg(\calA)} & {\Comm\Alg(\calA)}
                                	\arrow[""{name=0, anchor=center, inner sep=0}, "\oblv"', shift right=2, hook, from=1-1, to=1-2]
                                	\arrow[""{name=1, anchor=center, inner sep=0}, "{\Omega^1}"', shift right=2, from=1-2, to=1-1]
                                	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=1, to=0]
                                \end{tikzcd}
                            $$
                        wherein:
                            \begin{enumerate}
                                \item $\oblv$ is the obvious forgetful functor, which also happens to be the obvious fully faithful embedding, and
                                \item $\Omega^1$ is the functor associating to commutative algebras $B$ the canonical derivation:
                                    $$d: B \to \calI_{B/A}/\calI_{B/A}^2$$
                                wherein $\calI_{B/A}$ is the kernel of the codiagonal/multiplication $\nabla_{B/A}: B \tensor B \to B$, which exists thanks to the assumption that $\calA$ is pre-abelian.
                            \end{enumerate}
                    \end{theorem}
                        \begin{proof}
                            \noindent
                            \begin{enumerate}
                                \item \textbf{(Unit):} 
                                \item \textbf{(Counit):} 
                            \end{enumerate}
                        \end{proof}
                    \begin{corollary}[Universal property of K\"ahler differentials] \label{coro: kahler_differential_universal_property}
                        Let $\calA$ be the (pre-)abelian linear symmetric monoidal category ${}_A\Mod$ of modules over some commutative ring $A$. Commutative algebras therein are just commutative $A$-algebras, and so for each such algebra:
                            $$\phi: A \to B$$
                        one gets a module of K\"ahler differential:
                            $$d: B \to \Omega^1_{B/A}$$
                        satisfying:
                            $$\forall a \in A: d\left(\phi(a)\right) = 0$$
                            $$\forall (b, b') \in B \x B: d(b + b') = db + db'$$
                            $$\forall (b, b') \in B \x B: d(bb') = db \cdot b' + b \cdot db'$$
                        Then, by general properties of adjoint functors, one can show that the above canonical choice of module of K\"ahler differentials given by the functor $\Omega^1: {}^{A/}\Comm\Alg \to {}^{A/}\Comm\Leib\Alg$ is actually universal, in the sense that it is initial in the category of all $A$-module homormophisms:
                            $$\delta: B \to M$$
                        satisfying:
                            $$\forall a \in A: \delta\left(\phi(a)\right) = 0$$
                            $$\forall (b, b') \in B \x B: \delta(b + b') = \delta b + \delta b'$$
                            $$\forall (b, b') \in B \x B: \delta(bb') = \delta b \cdot b' + b \cdot \delta b'$$
                        In other words, given any $A$-linear derivation $\delta: B \to M$ on $B$, there is the following unique factorisation:
                            $$
                                \begin{tikzcd}
                                	 & B \\
                                	{\Omega^1_{B/A}} && M
                                	\arrow["\delta", from=1-2, to=2-3]
                                	\arrow["d"', from=1-2, to=2-1]
                                	\arrow[dashed, from=2-1, to=2-3]
                                \end{tikzcd}
                            $$
                    \end{corollary}
                
            \paragraph{As square-zero extensions}    
                We will need to concern ourselves with (yet another) reprisal of the theory of K\"ahler differentials; this time, in the style of \cite[Sections 7.3 and 7.4]{HA}.
                    
                    \begin{definition}[The square-zero extension functor: existence] \label{def: the_square_zero_extension_functor_existence}
                        Let $\calA$ be a symmetric monoidal stable $\infty$-category (cf. definition \ref{def: stable_infinity_categories}) and let:
                            $$\oblv: \Comm\Alg(\calA) \to \calA$$
                        be the forgetful functor that ignores the multiplication on commutative $\calA$-algebras. One can then show, using a very routine and formal argument, that this forgetful functor preserves limits and (small) filtered colimits, and because $\calA$ is \textit{a priori} presentable, it therefore admits a left-adjoint, which we shall denote by:
                            $$\Split\SqZ: \calA \to \Comm\Alg(\calA)$$
                    \end{definition}
                    \begin{proposition}[The square-zero extension functor: explicit description] \label{prop: the_square_zero_extension_functor_explicit_description}
                        Let $(\calA, \tensor, \1)$ be a \textit{closed} symmetric monoidal stable $\infty$-category and let:
                            $$\oblv: \Comm\Alg(\calA) \to \calA$$
                        be the forgetful functor that forgets the multiplication on commutative $\calA$-algebras. Its left-adjoint:
                            $$\Split\SqZ: \calA \to \Comm\Alg(\calA)$$
                        is thus given by:
                            $$\g \mapsto \1 \oplus \g$$
                    \end{proposition}
                        \begin{proof}
                            First of all, we need to show that the object $\1 \oplus \g$, for any $\g \in \calA^{\leq 0}$, can be endowed with the structure of a commutative monoid. This is rather routine, however, so we will leave it up to our dear readers (simply check the relevant commutative diagrams defining a commutative monoid internal to a symmetric monoidal category). One thing we will note, however, that thanks to finite direct sums being the same as finite biproducts in abelian categories, there necessarily exists a canonical unit map $\1 \to \1 \oplus \g$; also, the monoidal closure assumption on $(\calA, \tensor, \1)$ guarantees that for all $M \in \calA$, the functor $M \tensor -$ is a left-adjoint and thus preserves colimits.
                            
                            Next, we can use the fact $\calA$ and $\Comm\Alg(\calA)$ are presentable categories (cf. definition \ref{def: presentable_infinity_categories}), in conjunction with the fact that $\1 \oplus \g$ is a coproduct (so in particular, a colimit) to show the functor $\1 \oplus -: \calA \to \Comm\Alg(\calA)$ must preserve colimits in $\calA$ without fail. From this, we can deduce that the functor $\1 \oplus -$ (i.e. $\Split\SqZ$) admits a right-adjoint.
                            
                            It now remains to show that the right-adjoint of $\1 \oplus -: \calA \to \Comm\Alg(\calA)$ is indeed the canonical forgetful functor $\oblv: \Comm\Alg(\calA) \to \calA$ omitting the algebra structures and returning the underlying object. For this, simply note that there exists the following unit and counit componenets:
                                $$\eta_{\g}: \g \to ( \oblv \circ (\1 \oplus -) )(\g)$$
                                $$\e_A: ( (\1 \oplus -) \circ \oblv )(A) \to A$$
                            for all $\g \in \calA$ and $A \in \Comm\Alg(\calA)$; from the existence of these maps, we obtain the unit-counit pair that defines $\1 \oplus -$ as the left-adjoint of $\oblv$. This concludeds the proof that $\Split\SqZ(\g)$ is given by $\1 \oplus \g$ for all $\g \in \calA$.
                        \end{proof}
                    \begin{corollary}[Internal abelian groups] \label{coro: internal_abelian_groups}
                        It is not hard to deduce from the proof of proposition \ref{prop: the_square_zero_extension_functor_explicit_description} that for $(\calA, \tensor, \1)$ any closed symmetric monoidal stable $\infty$-category, the essential image of the split square-zero extension functor:
                            $$\Split\SqZ: \calA \to \Comm\Alg(\calA)$$
                        is equivalent to the category $\Comm\Mon( {}^{\1/}\Comm\Alg(\calA)_{/\1} )$ of commutative (additive) monoids internal to the double-slice ${}^{\1/}\Comm\Alg(\calA)_{/\1}$ (which is actually equivalent to $\Comm\Alg(\calA)_{/\1}$, since every unital algebra $A$, by definition, comes equipped with a unit map $\1 \to A$). In other words, one might think of objects of $\calA$ as abelian groups internal to $\Comm\Alg(\calA)_{/\1}$; this also means that $\Split\SqZ$ embeds $\calA$ fully faithfully into $\Comm\Alg(\calA)_{/\1}$.
                    \end{corollary}
                        \begin{proof}
                            This is simply a matter of restricting the codomain category $\Comm\Alg(\calA)$ until the counit $\e: \Split\SqZ \circ \oblv \to \id$ of the adjunction $\Split\SqZ \ladjoint \oblv$ becomes a natural isomorphism (and also, using the fact that finite direct sums are finite biproducts).
                        \end{proof}
                    \begin{remark}[$\Split\SqZ$ preserves limits and colimits] \label{remark: square_zero_extension_functor_preserves_(co)limits}
                        It is not hard to see that for any closed symmetric monoidal stable $\infty$-category $\calA$, the corresponding evident functor of split square-zero extensions:
                            $$\Split\SqZ: \calA \to \Comm\Alg(\calA)$$
                        preserves both limits and colimits.
                    \end{remark}
                    
                    \begin{lemma}[Cotangent bundles] \label{lemma: cotangent_bundles} \index{Cotangent bundle}
                        Let $(\calA, \tensor, \1)$ be a \textit{closed} symmetric monoidal stable $\infty$-category and let:
                            $$\Split\SqZ: \calA \to \Comm\Alg(\calA)$$
                        be the corresponding evident functor of split square-zero extensions.
                            \begin{enumerate}
                                \item \textbf{(Existence and uniqueness):} This functor admits a left-adjoint of its own, which we shall denote by $\tangent^{\vee}$ and refer to as the \textbf{cotangent bundle functor}.
                                \item \textbf{(Explicit description):} One obtains via corollary \ref{coro: internal_abelian_groups} the following localisation of $\Comm\Alg(\calA)_{/\1}$:
                                    $$
                                        \begin{tikzcd}
                                        	\calA & {\Comm\Alg(\calA)_{/\1}}
                                        	\arrow[""{name=0, anchor=center, inner sep=0}, "\Split\SqZ_{/\1}"', shift right=2, hook, from=1-1, to=1-2]
                                        	\arrow[""{name=1, anchor=center, inner sep=0}, "{\tangent^{\vee}_{/\1}}"', shift right=2, from=1-2, to=1-1]
                                        	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=1, to=0]
                                        \end{tikzcd}
                                    $$
                                Then, one can show that the essential image of $\tangent^{\vee}_{/\1}$ inside $\calA$ is equivalent to the subcategory $\Comm\Leib\Alg(\calA)$ spanned by commutative Leibniz algebras (cf. proposition \ref{prop: leibniz_algebra_categories}) therein.
                            \end{enumerate}
                    \end{lemma}
                        \begin{proof}
                            \noindent
                            \begin{enumerate}
                                \item \textbf{(Existence and uniqueness):} Because both $\calA$ and $\Comm\Alg(\calA)$ are \textit{a priori} presentable and because $\Split\SqZ$ preserves all limit and colimits, the left-adjoint $\tangent^{\vee}$ exists naturally by the Special Adjoint Functor Theorem for presentable $\infty$-categories.
                                \item \textbf{(Explicit description):} Because $\Split\SqZ_{/\1}$ is already fully faithful, (which in particular, implies that the counit of the adjunction $\Split\SqZ_{/\1} \ladjoint \tangent^{\vee}_{/\1}$ is a natural isomorphism) and because we have an isomorphism of simplicial sets:
                                    $$\calA(\tangent^{\vee}_{/\1}(S), N) \cong \Comm\Alg(\calA)_{/\1}(S, \1 \oplus N)$$
                                for all $S \in \Comm\Alg(\calA)_{/\1}$ and $N \in \calA$, it will suffice to show that any arrow $\varphi \in \Comm\Alg(\calA)_{/\1}(S, \1 \oplus N)$ induces a derivation (cf. definition \ref{def: derivations}) on $\1 \oplus N$ (it is \textit{very important} to consider $\varphi$ as an arrow in the slice category $\Comm\Alg(\calA)_{/\1}$ instead of in $\Comm\Alg(\calA)$). We shall do this by checking that we actually have all the relevant commutative diagrams, as in definition \ref{def: derivations}. To that end, 
                            \end{enumerate}
                        \end{proof}
                    \begin{remark}[Cotangent bundles and K\"ahler differentials] \label{remark: cotangent_bundles_and_kahler_differentials}
                        Recall, from theorem \ref{theorem: kahler_differentials_universal_property}, that K\"ahler differentials taking values in some symmetric monoidal stable $\infty$-category $(\calA, \tensor, \1)$ arise through an adjunction:
                            $$
                                \begin{tikzcd}
                                	{\Comm\Leib\Alg(\calA)} & {\Comm\Alg(\calA)}
                                	\arrow[""{name=0, anchor=center, inner sep=0}, "\oblv"', shift right=2, hook, from=1-1, to=1-2]
                                	\arrow[""{name=1, anchor=center, inner sep=0}, "{\Omega^1_{-/\1}}"', shift right=2, from=1-2, to=1-1]
                                	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=1, to=0]
                                \end{tikzcd}
                            $$
                        wherein the canonical forgetful functor $\oblv: \Comm\Leib\Alg(\calA) \to \Comm\Alg(\calA)$ is fully faithful (cf. proposition \ref{prop: leibniz_algebra_categories}). When $(\calA, \tensor, \1)$ is furthermore monoidally closed, we get additionally by lemma \ref{lemma: cotangent_bundles} that $\Comm\Leib\Alg(\calA)$ is equivalent to the essential image of the cotangent bundle functor $\tangent^{\vee}_{/\1}: \Comm\Alg(\calA)_{/\1} \to \calA$. Due to this, we can also view $\tangent^{\vee}_{\1}$ as the functor assigning to each $A \in \Comm\Alg(\calA)_{/\1}$ the module of K\"ahler differentials $\Omega^1_{-/\1}$.
                    \end{remark}
                
            \subsubsection{Properties of modules of K\"ahler differentials} \label{subsubsection: properties_of_kahler_differentials}
                \begin{remark}[K\"ahler differentials and colimits] \label{remark: differentials_and_colimits}
                    This could be viewed as a corollary to theorem \ref{theorem: kahler_differentials_universal_property}. 
                    
                    Let $R$ be a base commutative ring and let $\{S_i\}_{i \in I}$ be a diagram of $R$-algebras $S_i$. Then, due to $\Omega^1_{-/R}$ being a left-adjoint (which means, in particular, that it would preserve colimits \textit{a priori}), one has the following identity:
                        $$\Omega^1_{\underset{i \in I}{\colim} S_i/R} \cong \underset{i \in I}{\colim} \Omega^1_{S_i/R}$$
                \end{remark}
                \begin{example}[K\"ahler differentials and localisations] \label{example: differentials_and_localisations}
                    An example of a colimit of an infinite diagram of modules of K\"ahler differentials is how these modules interact with localisations of commutative rings. Let $S$ be a (possibly infinite) commutative ring let $\q \in |\Spec S|$ be a prime ideal thereof, and let $R \to S$ be a ring map. Then:
                        $$\Omega^1_{S_{\q}/R} \cong (\Omega^1_{S/R})_{\q}$$
                    Note that this exhibits the commutativity of $\Omega^1_{-/R}$ with an \textit{infinite} colimit because:
                        $$S_{\q} \cong \underset{y \in S \setminus \q}{\colim} S[1/y]$$
                \end{example}
                Let us examine how K\"ahler differentials interact with colimits a bit closer through the following proposition, wherein we rely on the fact that finite colimits can be constructed out of finite coproducts and epimorphisms.
                \begin{proposition}[K\"ahler differentials and finite colimits] \label{prop: differentials_and_finite_colimits}
                    Let $R$ be a base commutative ring. 
                        \begin{enumerate}
                            \item \textbf{(Module of differentials of a surjection):} If $R \to S$ is a surjective ring homomorphism, then:
                                $$\Omega^1_{S/R} \cong 0$$
                            \item \textbf{(Module of differentials and base change):} Consider a pushout diagram of commutative rings such as the following one:
                                $$
                                    \begin{tikzcd}
                                    	{S'} & {R'} \\
                                    	S & R
                                    	\arrow[from=2-2, to=2-1]
                                    	\arrow[from=2-1, to=1-1]
                                    	\arrow[from=2-2, to=1-2]
                                    	\arrow[from=1-2, to=1-1]
                                    	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
                                    \end{tikzcd}
                                $$
                            Then:
                                $$\Omega^1_{S'/R} \cong \Omega^1_{S/R} \oplus \Omega^1_{R'/R}$$
                        \end{enumerate}
                \end{proposition}
                    \begin{proof}
                        \noindent
                        \begin{enumerate}
                            \item \textbf{(Module of differentials of a surjection):} 
                                \begin{enumerate}
                                    \item First of all, we claim that $\Omega^1_{R/R} \cong 0$. To see why this is the case, recall firstly that $R$ is the initial object of ${}^{R/}\Comm\Alg$, the category of internal commutative and unital algebras in ${}_R\Mod$. The universal property of the initial object as the colimit of the empty diagram as well as the fact that $\Omega^1_{-/R}$ is a left-adjoint, then jointly imply that $\Omega^1_{R/R}$ must be initial in ${}_R\Mod$. Lastly, recall that $0$ is intial in ${}_R\Mod$: this implies that $\Omega^1_{R/R} \cong 0$. Note that this is a special case of $\Omega^1_{S/R} \cong 0$ whenever $R \to S$ is surjective, because the zero object $0 \in {}_R\Mod$ is also terminal (and also because ${}_R\Mod$ is an abelian category).
                                    \item By remark \ref{remark: differentials_and_colimits}, there exists a surjective $R$-module homomorphism:
                                        $$\Omega^1_{R/R} \to \Omega^1_{S/R}$$
                                    and because $\Omega^1_{R/R} \cong 0$, we can thus deduce that:
                                        $$\Omega^1_{S/R} \cong 0$$
                                    from the universal property of the zero object $0$ in ${}_R\Mod$ as the limit of the empty diagram.
                                \end{enumerate}
                            \item \textbf{(Module of differentials and base change):} This is completely trivial.
                        \end{enumerate}
                    \end{proof}
                    
                \begin{lemma}[Surjections between modules of differentials] \label{lemma: surjections_between_modules_of_differentials}
                    Consider the following commutative diagram in $\Cring$:
                        $$
                            \begin{tikzcd}
                            	{S'} & {R'} \\
                            	S & R
                            	\arrow[from=2-1, to=1-1]
                            	\arrow[from=2-2, to=1-2]
                            	\arrow[from=1-2, to=1-1]
                            	\arrow[from=2-2, to=2-1]
                            \end{tikzcd}
                        $$
                    Should the arrow $S \to S'$ be surjective, then the naturally induced $S$-module homomorphism $\Omega^1_{S/R} \to \Omega^1_{S'/R'}$ shall also be surjective.
                \end{lemma}
                    \begin{proof}
                        First of all, the $S$-module homomorphism $\Omega^1_{S/R} \to \Omega^1_{S'/R'}$ is well-defined as it comes from evaluating the natural transformation $\Omega^1_{-/R} \to \Omega^1_{-/R'}$ along the arrow $S \to S'$ in the following manner:
                            $$
                                \begin{tikzcd}
                                	& {} & {\Omega^1_{S'/R'}} & 0 \\
                                	{\Omega^1_{S'/R}} & {\Omega^1_{R'/R}} \\
                                	{\Omega^1_{S/R}} & 0
                                	\arrow[from=3-2, to=2-2]
                                	\arrow[from=3-2, to=3-1]
                                	\arrow[from=3-1, to=2-1]
                                	\arrow[from=2-2, to=2-1]
                                	\arrow[from=1-4, to=1-3]
                                	\arrow[from=2-1, to=1-3]
                                	\arrow[from=2-2, to=1-4]
                                \end{tikzcd}
                            $$
                        Next, note that the $S$-module homomorphism $\Omega^1_{S/R} \to \Omega^1_{S'/R}$ is trivially surjective via an application of proposition \ref{prop: differentials_and_finite_colimits}.
                    \end{proof}
                    
                \begin{proposition}[The canonical exact sequence] \label{prop: canonical_exact_sequence_of_differentials}
                    For $A \to B \to C$ a composition of ring maps, there exists a canonically associated right-exact sequence of $C$-modules:
                        $$C \tensor_B \Omega^1_{B/A} \to \Omega^1_{C/A} \to \Omega^1_{C/B} \to 0$$
                \end{proposition}
                    \begin{proof}
                        First of all, the morphisms $A \to B \to C$ gives rise to a natural transformations:
                            $$\Omega^1_{-/A} \to \Omega^1_{-/B} \to \Omega^1_{-/C}$$
                        In particular, this tells us that there are the following canonically defined commutative diagrams:
                            $$\Omega^1_{B/A} \to \Omega^1_{B/B}$$
                            $$\Omega^1_{C/A} \to \Omega^1_{C/B} \to \Omega^1_{C/C}$$
                        Second of all, recall that we know by proposition \ref{prop: differentials_and_finite_colimits} that:
                            $$\Omega^1_{B/B} \cong 0$$
                            $$\Omega^1_{C/C} \cong 0$$
                        Thus, there exists the following canonical commutative diagram of $C$-modules:
                            $$
                                \begin{tikzcd}
                                	{C \tensor_B \Omega^1_{B/A}} & {\Omega^1_{C/A}} & 0 \\
                                	0 & {\Omega^1_{C/B}} & 0
                                	\arrow[from=1-2, to=2-2]
                                	\arrow[from=1-1, to=2-1]
                                	\arrow[from=2-1, to=2-2]
                                	\arrow[from=1-1, to=1-2]
                                	\arrow[from=2-2, to=2-3]
                                	\arrow["{!}", from=1-2, to=1-3]
                                	\arrow[from=1-3, to=2-3]
                                \end{tikzcd}
                            $$
                        wherein:
                            \begin{itemize}
                                \item the horizontal arrows exist as a consequence of $C \tensor_B -: {}_B\Mod \to {}_C\Mod$ being a left-adjoint
                                \item $!: \Omega^1_{C/A} \to 0$ is the canonical terminal arrow, and
                                \item the arrows $0 \to \Omega^1_{C/B}$ and $\Omega^1_{C/B} \to 0$ are actually $C \tensor_B \Omega^1_{B/B} \to \Omega^1_{C/B}$ and $\Omega^1_{C/B} \to \Omega^1_{C/C}$, respectively.
                            \end{itemize}
                        An application of lemma \ref{lemma: surjections_between_modules_of_differentials} to the square:
                            $$
                                \begin{tikzcd}
                                	C & B \\
                                	C & A
                                	\arrow["{\id_C}", from=2-1, to=1-1]
                                	\arrow[from=2-2, to=1-2]
                                	\arrow[from=1-2, to=1-1]
                                	\arrow[from=2-2, to=2-1]
                                \end{tikzcd}
                            $$
                        (note that the identity morphism $\id_C: C \to C$ is trivially surjective) then helps us show the surjectivity of the map $\Omega^1_{C/A} \to \Omega^1_{C/B}$. This concludes the proof.
                    \end{proof}
                    
            \subsubsection{Cotangent complexes}
                \begin{convention}[Simplicial objects]
                    Let $\C$ be an arbitrary category. Then, the category of so-called \textbf{simplicial objects} of $\C$ is nothing but the functor category $\C^{\simp^{\op}}$, where $\simp$ is the category of finite simplicies. As $\simp$ is an $\infty$-category in a natural way, so is $\C^{\simp^{\op}}$.
                \end{convention}
                
                \begin{remark}[The Dold-Kan Correspondence] \label{remark: the_dold_kan_correspondence}
                    We will be assuming familiarity with the Dold-Kan Correspondence. In essence, it asserts that for $\calA$ any abelian category, there exists an equivalence of stable $\infty$-categories (cf. definition \ref{def: stable_infinity_categories}) between the category of simplicial objects of $\calA$ and that of projective resolutions/connective objects in $\calA$:
                        $$\calA^{\simp^{\op}} \cong {}^{\leq 0}\calA$$
                    For more details, see \cite{nlab:dold-kan_correspondence} and \cite[Subsection 1.2.3]{HA} (and in particular, \cite[Theorem 1.2.3.7]{HA}).
                \end{remark}
                
                \begin{remark}[Constructing cotangent complexes] \label{remark: constructing_cotangent_complexes}
                    Let $R$ be a base commutative ring and let $\e: P \to S$ be a surjective $R$-algebra homomorphism. We know by proposition \ref{prop: canonical_exact_sequence_of_differentials}, that there exists the following long exact sequence of $S$-modules:
                        $$S \tensor_P \Omega^1_{P/R} \to \Omega^1_{S/R} \to \Omega^1_{S/P} \to 0$$
                    and because $\e: P \to S$ is surjective (which implies - via proposition \ref{prop: differentials_and_finite_colimits} - that $\Omega^1_{S/P} \cong 0$), the sequence reduces down to:
                        $$S \tensor_P \Omega^1_{P/R} \to \Omega^1_{S/R} \to 0$$
                    Now, in knowing that $\e: P \to S$ is surjective, we have essentially been given a recipe for $S$ in terms of $P$: by the First Isomorphism Theorem, we have:
                        $$S \cong P/J$$
                    where $J := \ker \e$. This means that we can study $\Omega^1_{S/R}$ via studying $S \tensor_P \Omega^1_{P/R}$; the exactness of the sequence $S \tensor_P \Omega^1_{P/R} \to \Omega^1_{S/R} \to 0$ implies that the map $S \tensor_P \Omega^1_{P/R} \to \Omega^1_{S/R}$ is surjective, but since we do not know it explicitly, we will try to extend the sequence above to the left into a projective resolution instead of trying to find its kernel. Before attempting that, however, we should take a moment to verify that we actually can. There thus, to the forefront, comes the reason why we spend so much effort throughout subsubsection \ref{subsubsection: kahler_differentials} reformulating the construction of K\"ahler differentials: the notion is, per our definition, entirely internal to any symmetric monoidal linear category, such as ${}_R\Mod$, and one can therefore simply lift the entire setup up to the $\infty$-categorical level. To be more precise, because Leibniz algebras enjoy an internal definition (cf. proposition \ref{prop: leibniz_algebra_categories}), we can simply use the fact that the symmetric monoidal linear category ${}_R\Mod$ is abelian in conjunction with the Dold-Kan Correspondence (cf. remark \ref{remark: the_dold_kan_correspondence}) to construct the following $\infty$-adjunction:
                        $$
                            \begin{tikzcd}
                            	{{}^{\leq0, R/}\Comm\Leib\Alg} & {{}^{\leq0, R/}\Comm\Alg}
                            	\arrow[""{name=0, anchor=center, inner sep=0}, "\R\oblv"', shift right=2, hook, from=1-1, to=1-2]
                            	\arrow[""{name=1, anchor=center, inner sep=0}, "{\L\Omega^1_{-/R}}"', shift right=2, from=1-2, to=1-1]
                            	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=1, to=0]
                            \end{tikzcd}
                        $$
                    wherein:
                        \begin{itemize}
                            \item ${}^{\leq0, R/}\Comm\Alg$ is the $\infty$-subcategory of internal commutative monoids inside the stable $\infty$-category ${}_R^{\leq 0}\Mod$ of projective resolutions of $R$-modules (which, by the Dold-Kan Correspondence, is equivalent as a stable $\infty$-category to ${}_R\Mod^{\simp^{\op}}$),
                            \item ${}^{\leq0, R/}\Comm\Alg$ is the $\infty$-subcategory of commutative Leibniz algebras internal to ${}_R^{\leq 0}\Mod$, and
                            \item $\L\Omega^1_{-/R}$ and $\R\oblv$ are the obvious left and right-derived functors of $\Omega^1_{-/R}$ and $\oblv$ respectively (cf. theorem \ref{theorem: kahler_differentials_universal_property} for the definitions of $\Omega^1_{-/R}$ and $\oblv$).
                        \end{itemize}
                    Recovering the usual K\"ahler differential functor $\Omega^1_{-/R}$ is easy: it is simply the $0$-truncation of $\L\Omega^1_{-/R}$. One might could even make a case for the adjunction $\L\Omega^1_{-/R} \ladjoint \R\oblv$ being more fundamental and natural than the adjunction $\Omega^1_{-/R} \ladjoint \oblv$ from theorem \ref{theorem: kahler_differentials_universal_property}.
                \end{remark}
            
                \begin{definition}[\textcolor{red}{\underline{\textbf{IMPORTANT}}} Cotangent complexes] \label{def: cotangent_complexes} \index{Cotangent complex} \index{Conormal module}
                    Let $R$ be a base commutative ring and let $S$ be a simplicial $R$-algebra (which we shall view, through the lens of the Dold-Kan Correspondence, as a commutative monoids internal to the stable $\infty$-category ${}_R^{\leq 0}\Mod$); let $... \to P_1 \to P_0 \to S$ be a projective resolution of $S$ where the $P_i$'s are commutative $R$-algebras also. 
                    \begin{enumerate}
                        \item \textbf{(Cotangent complexes):} The \textbf{relative cotangent complex} over $R$ associated to $S$ is thus the application of the left-derived functor:
                            $$\L\Omega^1_{-/R}: {}^{\leq0, R/}\Comm\Alg \to {}^{\leq0, R/}\Comm\Leib\Alg$$
                        to the object $S \in {}^{\leq 0, R/}\Comm\Alg$. It is commonly denoted by $\bfL_{S/R}$.
                        \item \textbf{(Na\"ive cotangent complexes):} 
                            \begin{enumerate}
                                \item \textbf{(Na\"ive cotangent complexes):}  The \textbf{na\"ive cotangent complex} over $R$ associated to $S$ just the $(-1)$-truncation of the cotangent complex $\bfL_{S/R}$. It is usually denoted by $\NL_{S/R}$.
                                \item \textbf{(The conormal module):} The first homology of the (na\"ive) cotangent complex will frequently be of special interest (cf. theorem \ref{theorem: computing_naive_cotangent_complexes} and corollary \ref{coro: naive_cotangent_complex_of_separated_schemes_and_closed_subschemes}), so it shall be graced with a title: $H_1(\bfL_{S/R})$ shall henceforth be known as the \textbf{conormal module} over $R$ associated to $S$ and shall be denoted by $\calN^{\vee}_{S/R}$.
                            \end{enumerate}
                    \end{enumerate}
                \end{definition}
                \begin{remark}
                    It is not hard to see that by construction (cf. remark \ref{remark: constructing_cotangent_complexes}), one has:
                        $$\Omega^1_{S/R} \cong H_0(\bfL_{S/R})$$
                    for all simplicial commutative $R$-algebras $S$. Also, for $i \in \{0, 1\}$, one has that:
                        $$H_i(\bfL_{S/R}) \cong H_i(\NL_{S/R})$$
                    We will usually write $\NL_{S/R}$ in place of $\bfL_{S/R}$ when the homologies of degree $2$ or higher are of no relevance, such as in theorem \ref{theorem: computing_naive_cotangent_complexes} or corollary \ref{coro: naive_cotangent_complex_of_separated_schemes_and_closed_subschemes}.
                \end{remark}
                
                As any given cotangent complex arise through an $\infty$-left-adjoint, it will interact well with $\infty$-colimits, much like how modules of K\"ahler differentials interact well with ordinary $1$-categorical colimits. The following results are in perfect analogy with the ones presented in subsubsection \ref{subsubsection: properties_of_kahler_differentials}, and since the proofs of those results are entirely categorical, we shall be omitting proofs down below \footnote{We hope our readers are willing to accept the syntactic similarities between the theory of $1$-categories and that of $(\infty, 1)$-categories as an excuse for accepting the latter as black magic; if not (read: if you are a homotopy theorist) then we would like to offer our deepest apologies. Higher category theory, however, is not something one should attempt in public anyway, for great shame is usually brought upon those who are foolish (or brave) enough to do so.}. Our readers, of course, are more than welcome to use attempt these practice exercises.
                
                We would also like to emphasise that even though the results down below are phrased in terms of rings, they in fact remain true within any stable symmetric monoidal linear $\infty$-category (i.e. any symmetric monoidal dg-category). For instance, one may generalise these results - without any issue - by replacing simplicial commutative rings with commutative ring objects internal to some given $\infty$-topos (see corollary \ref{coro: canonical_exact_sequence_of_cotangent_complexes_of_ringed_topoi} for more details). It is simply a lot more convenient to state results this way \footnote{One usually restricts to the affine case in practice anyway.}. 
                
                \begin{convention}[Everything is derived!] \label{conv: cotangent_complex_everything_is_derived}
                    From now on until the end of the chapter, everything will be assumed to be derived. In particular, this means that all commutative rings and algebras over them shall be assumed to be simplicial (note that simplicial commutative rings are nothing but objects of $\Comm\Alg(\Ab^{\simp^{\op}})$) and also, that we shall confuse $\infty$-categorical with their ordinary categorical counterparts. The symbol \say{$\cong$} will also be understood to represent quasi-isomorphisms whenever the context is appropriate.
                \end{convention}
                
                \begin{remark}[Cotangent complexes and colimits] \label{remark: cotangent_complexes_and_colimits}
                    Let $R$ be a base commutative ring and let $\{S_i\}_{i \in I}$ be a diagram of $R$-algebras $S_i$. Then, due to $\bfL_{-/R}$ being a left-adjoint (which means, in particular, that it would preserve colimits \textit{a priori}), one has the following identity:
                        $$\bfL_{\underset{i \in I}{\colim} S_i/R} \cong \underset{i \in I}{\colim} \bfL_{S_i/R}$$
                \end{remark}
                \begin{example}[Cotangent complexes and localisations] \label{example: cotangent_complexes_and_localisations}
                    An example of a colimit of an infinite diagram of modules of K\"ahler differentials is how these modules interact with localisations of commutative rings. Let $S$ be a (possibly infinite) commutative ring let $\q \in |\Spec {}^{\leq 0}S|$ be a prime ideal thereof (${}^{\leq 0}S$ means the $0$-truncation of $S$), and let $R \to S$ be a ring map. Then:
                        $$\bfL_{S_{\q}/R} \cong (\bfL_{S/R})_{\q}$$
                    Note that this exhibits the commutativity of $\bfL_{-/R}$ with an \textit{infinite} colimit because:
                        $$S_{\q} \cong \underset{y \in {}^{\leq 0}S \setminus \q}{\colim} S[1/y]$$
                \end{example}
                Let us examine how cotangent complexes interact with colimits in closer details via the following proposition, wherein we rely on the fact that finite colimits can be constructed out of finite coproducts and epimorphisms.
                \begin{proposition}[Cotangent complexes and finite colimits] \label{prop: cotangent_complexes_and_finite_colimits}
                    Let $R$ be a base commutative ring. 
                        \begin{enumerate}
                            \item \textbf{(Module of differentials of a surjection):} If $R \to S$ is a surjective ring homomorphism, then:
                                $$\bfL_{S/R} \cong 0$$
                            \item \textbf{(Module of differentials and base change):} Consider a pushout diagram of commutative rings such as the following one:
                                $$
                                    \begin{tikzcd}
                                    	{S'} & {R'} \\
                                    	S & R
                                    	\arrow[from=2-2, to=2-1]
                                    	\arrow[from=2-1, to=1-1]
                                    	\arrow[from=2-2, to=1-2]
                                    	\arrow[from=1-2, to=1-1]
                                    	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
                                    \end{tikzcd}
                                $$
                            Then:
                                $$\bfL_{S'/R} \cong \bfL_{S/R} \oplus \bfL_{R'/R}$$
                            where the direct is to be understood as the binary biproduct in the stable $\infty$-category ${}_R^{\leq 0}\Mod$.
                        \end{enumerate}
                \end{proposition}
                    
                \begin{lemma}[Surjections between cotangent complexes] \label{lemma: surjections_between_cotangent_complexes}
                    Consider the following commutative diagram of commutative rings:
                        $$
                            \begin{tikzcd}
                            	{S'} & {R'} \\
                            	S & R
                            	\arrow[from=2-1, to=1-1]
                            	\arrow[from=2-2, to=1-2]
                            	\arrow[from=1-2, to=1-1]
                            	\arrow[from=2-2, to=2-1]
                            \end{tikzcd}
                        $$
                    Should the arrow $S \to S'$ be surjective, then the naturally induced $S$-module homomorphism $\bfL_{S/R} \to \bfL_{S'/R'}$ shall also be surjective.
                \end{lemma}
                    
                \begin{proposition}[The canonical exact sequence] \label{prop: canonical_exact_sequence_of_cotangent_complexes}
                    For $A \to B \to C$ a composition of ring maps, there exists a canonically associated distinguished triangle (cf. definition \ref{def: triangulated_infinity_categories}) of $C$-modules:
                        $$C \tensor_B^{\L} \bfL_{B/A} \to \bfL_{C/A} \to \bfL_{C/B} \to (C \tensor_B^{\L} \bfL_{B/A})[1]$$
                    Note that it is possible for the right-most term $(C \tensor_B^{\L} \bfL_{B/A})[1]$ to be non-zero, as one can not guarantee that all the maps $B_j \to A_i$ are surjective (here, $... \to B_1 \to B_0 \to B$ and $... \to A_1 \to A_0 \to A$ are projective resolutions of $B$ and $A$, respectively). 
                \end{proposition}
                \begin{corollary}[The canonical exact sequence for morphisms of ringed topoi] \label{coro: canonical_exact_sequence_of_cotangent_complexes_of_ringed_topoi}
                    Let:
                        $$
                            \begin{tikzcd}
                            	{(\calX, \calO_{\calX})} & {(\calY, \calO_{\calY})} & {(\calZ, \calO_{\calZ})}
                            	\arrow["f", from=1-1, to=1-2]
                            	\arrow["g", from=1-2, to=1-3]
                            \end{tikzcd}
                        $$
                    be composition of geometric morphisms between (small) (simplicially) ringed sheaf topoi (each of which can be thought of as pairs consisting of an $\infty$-topos and a choice of internal commutative ring therein); these topoi could arise, for instance, as categories of sheaves (of simplical sets/$\infty$-groupoids/\say{spaces}) over a derived scheme or over a derived algebraic stack (cf. section \ref{section: schemes}). Then, through definition \ref{def: qcoh_def}, one obtains the following canonical distinguished triangle in the stable $\infty$-category of simplicial $\calO_X$-modules:
                        $$f^*\bfL_{\calY/\calZ} \to \bfL_{\calX/\calZ} \to \bfL_{\calX/\calY} \to (f^*\bfL_{\calY/\calZ})[1]$$
                \end{corollary}
                
            \subsubsection{Cotangent spaces} \label{subsubsection: cotangent_spaces}
                Now, let us look into how you, our dear reader, might actually be able to compute some na\"ive cotangent complexes for yourself, and thereby discern geometric interpretations of these algebraic beasts. 
                
                \begin{theorem}[\textcolor{red}{\underline{\textbf{IMPORTANT}}} Computing na\"ive cotangent complexes] \label{theorem: computing_naive_cotangent_complexes}
                    \noindent
                    \begin{enumerate}
                        \item Let $R$ be a base commutative ring and let $P \to S$ be a surjective map between $R$-algebras (viewed as a $(-1)$-truncated projective resolution), with kernel $J$. Then, the conormal module takes on the following form:
                            $$H_1(\NL_{S/R}) \cong J/J^2$$
                        which is to say that the conormal module $\calN^{\vee}_{S/R}$ is given by $J/J^2$.
                        \item If $P \to S$ has, in addition, a section (i.e a right-inverse), then:
                            $$H_2(\NL_{S/R}) \cong 0$$
                        Furthermore, the resulting short exact sequence $\bfL_{S/R}^{\geq -1}$, i.e.:
                            $$0 \to \calN^{\vee}_{S/R} \to S \tensor_P \Omega^1_{P/R} \to \Omega^1_{S/R} \to 0$$
                        splits.
                        \item Let $A$ be a $0$-connective commutative ring, let $B$ be a $0$-connective $A$-algebra, and consider the codiagonal/multiplication $\nabla_{B/A}: B \tensor_A B \to B$: this map is surjective and admits the canonical map $B \to B \tensor_A B$ as a section, so the na\"ive cotangent complex $\NL_{B/A}$ will take the on the form of the following splitting short exact sequence $\bfL_{B/A}^{\geq -1}$, i.e.:
                            $$0 \to \calI_{B/A}/\calI_{B/A}^2 \to B \tensor_{B \tensor_A B} \Omega^1_{(B \tensor_A B)/A} \to \Omega^1_{B/A} \to 0$$
                        where $\calI_{B/A}$ denotes the kernel $\ker \nabla_{B/A}$. Then, one can actually characterise $\Omega^1_{B/A}$ as $\calI_{B/A}/\calI_{B/A}^2$ via an isomorphism of $B$-modules:
                            $$\Omega^1_{B/A} \cong \calI_{B/A}/\calI_{B/A}^2$$
                    \end{enumerate}
                \end{theorem}
                    \begin{proof}
                        \noindent
                        \begin{enumerate}
                            \item 
                            \item 
                            \item This is a straightforward consequence of theorem \ref{theorem: kahler_differentials_universal_property}.
                        \end{enumerate}
                    \end{proof}
                \begin{corollary}[Na\"ive cotangent complex of separated schemes and of closed subschemes] \label{coro: naive_cotangent_complex_of_separated_schemes_and_closed_subschemes}
                    \noindent
                    \begin{itemize}
                        \item \textbf{(Differentials on separated schemes):} A separated (relative) scheme $X \to S$ is one that is closed inside its diagonal $X \x_S X$ (i.e. the diagonal map $\Delta_{X/S}: X \to X \x_S X$ is a closed immersion). This means that there exists a quasi-coherent ideal sheaf $\calI_{X/S} \subset \calO_{X \x_S X}$ such that:
                        $$\Spec_{X \x_S X/S} \calO_{X \x_S X}/\calI_{X/S} \cong X$$
                        or concretely, that the codiagonal:
                            $$\nabla_{X/S}: \calO_X \tensor_{\calO_S} \calO_X \to \calO_X$$
                        has $\Delta^*_{X/S} \calI_{X/S}$ as its kernel (note that we have $\Delta^*_{X/S} \calO_{X \x_S X} \cong \calO_X \tensor_{\calO_S} \calO_X$ by some general topos theory; we shall leave this verification up to the reader). We can then apply theorem \ref{theorem: computing_naive_cotangent_complexes} to obtain the following definition of the sheaf of (relative) K\"ahler differentials on $X$:
                            $$\Omega^1_{X/S} \cong \Delta^*_{X/S}(\calI_{X/S}/\calI_{X/S}^2)$$
                        It is not hard to see that $\Omega^1_{X/S}$ is necessarily quasi-coherent.
                        \item \textbf{(Differentials on closed subschemes):}
                            \begin{itemize}
                                \item \textbf{(Differentials on general closed subschemes):} By arguing similarly, one sees that for:
                                    $$j: Z \hookrightarrow X$$
                                a closed immersion of schemes, there exists a canonically defined associated (quasi-coherent) sheaf of differentials $\Omega^1_{Z/X}$, which is given by:
                                    $$\Omega^1_{Z/X} \cong j^*(\calI_{Z/X}/\calI_{Z/X}^2)$$
                                This, in fact, is a generalisation of the first case.
                                \item \textbf{(Zariski cotangent spaces):} One very interesting subcase that we will examine in closer details later is that of closed points $x: \Spec \kappa_x \to X$. For now, however, note that the na\"ive cotangent complex at $x \in |X|$ has the form:
                                    $$\m_x/\m_x^2 \to \kappa_x \tensor_{\calO_{Z, z}} \Omega^1_{X, x} \to \Omega^1_{\kappa_x/\calO_{X, x}} \to 0$$
                                Because there exists a canonical surjective ring homomorphism $\calO_{X, x} \to \kappa_x$, we have:
                                    $$\Omega^1_{\kappa_x/\calO_{X, x}} \cong 0$$
                            \end{itemize}
                    \end{itemize}
                \end{corollary}
    
        \subsection{Smoothness}
            Smoothness is a notion that, while being intuitively simple (or at least seemingly so), is extremely subtle and furthermore, has far-reaching consequences. Morally, one should imagine a smooth scheme (or for that matter, a smooth variety) as an algebro-geometric object that behaves as much like a smooth manifold as possible. For instance, there ought to be no singularities, as well as no funny business of dimension-hopping between tangent spaces at different points. Smooth varieties should also admit some sort of de Rham cohomology (see section \ref{section: algebraic_de_rham_cohomology_over_characteristic_0}) that returns results agreeing with those given by \'etale cohomology (which is somehow the \say{right} notion of singular comology for schemes). But what if one is looking for something a bit more technical ? Well, first of all, we are going to restrict ourselves to cases where a so-called \say{smooth} morphism is of finite presentation, which is because our first line of attack is going to be through Jacobian matrices: should these be of full rank, our schemes shall be \say{smooth}, and since Jacobians are only well-defined for functions between finite-dimensional spaces, \say{smooth} morphisms had better be of finite presentation in the first place (otherwise, there might be infinitely many components in our Jacobians). This, however, turns out to be a na\"ive attempt at tackling algebro-geometric smoothness, which is not to imply that one is unable to write down a meaningful definition of what it means for a scheme to be smooth, but instead, that such a definition is entirely impractical (this was pushed, for instance, by Michael Artin): the Jacobian criterion, or even the alternative definition involving the cotangent complex, while concrete, is just not easy to check at all, and worse, does not generalise well to more exotic settings such as those of derived schemes or perfectoid spaces. Due to this, we will start with what is called \say{formal smoothness}. A formally smooth morphism, roughly speaking, shall be one with all the qualitative properties that one would expect from a smooth morphism. We will subsequently introduce finiteness to the picture to obtain morphisms that are smooth in the technical sense. 
        
            \subsubsection{Formally smooth morphisms}
                \begin{definition}[Formal smoothness] \label{def: formall_smoothness} \index{Smoothness! formal}
                    \noindent
                    \begin{enumerate}
                        \item \textbf{(Formally smooth ring map):} A homomorphism of commutative rings:
                            $$\varphi: R \to S$$
                        is \textbf{formally smooth} if and only if for all $S$-algebras $B$ and nilpotent ideal $J$ thereof, the canonical map induced by the ring map $B \to B/J$:
                            $$\Spec S(B) \to \Spec R(B/J)$$
                        is surjective.
                        \item \textbf{(Formally smooth prestacks):} A morphism:
                            $$f: \calX \to \calY$$
                        of prestacks is said to be \textbf{formally smooth} if and only if it is represented by a formally smooth morphism of affine schemes.
                    \end{enumerate}
                \end{definition}
                \begin{remark}
                    Note that the so-called \say{canonical map} induced by $B \to B/J$ always exists; simply consider the following commutative diagram:
                        $$
                            \begin{tikzcd}
                            	{X(B)} & {X(B/J)} \\
                            	{Y(B)} & {Y(B/J)}
                            	\arrow[from=1-1, to=2-1]
                            	\arrow[from=2-1, to=2-2]
                            	\arrow[from=1-1, to=1-2]
                            	\arrow[from=1-2, to=2-2]
                            	\arrow[dashed, from=1-1, to=2-2]
                            \end{tikzcd}
                        $$
                \end{remark}
                
                \begin{proposition}[Formal smoothness is stable under base changes and compositions] \label{prop: compositions_and_base_changes_of_formally_smooth_morphisms}
                    \noindent
                    \begin{enumerate}
                        \item Let:
                            $$
                                \begin{tikzcd}
                                	A & B & C
                                	\arrow["\varphi", from=1-1, to=1-2]
                                	\arrow["\psi", from=1-2, to=1-3]
                                \end{tikzcd}
                            $$
                        be a composition of formally smooth ring homomorphisms. The composite map $A \to C$ is thus also formally smooth.
                        \item Let $\varphi: R \to S$ be a formally smooth ring map and $\psi: R \to R'$ be an arbitrary homomorphism of commutative rings. Then, the pushout $S \tensor_{\varphi, R, \psi} R'$ is formally smooth over $R'$ as well.
                    \end{enumerate}
                \end{proposition}
                    \begin{proof}
                        \noindent
                        \begin{enumerate}
                            \item 
                            \item 
                        \end{enumerate}
                    \end{proof}
                    
                \begin{lemma}[Splitting of the canonical short exact sequence] \label{lemma: canonical_short_exact_sequence_splits}
                    Let $\varphi: R \to S$ be a ring map and let $\pi: P \to S$ be a surjective homomorphism of $R$-algebras from a polynomial $R$-algebra $P$; additionally, write $J := \ker \pi$. Then, $\varphi: R \to S$ is smooth if and only if the canonically defined right-exact sequence:
                        $$J/J^2 \to \Omega^1_{P/R} \tensor_P S \to \Omega^1_{S/R} \to 0$$
                    is actually a short exact sequence that splits.
                \end{lemma}
                    \begin{proof}
                        \noindent
                        \begin{enumerate}
                            \item 
                            \item 
                        \end{enumerate}
                    \end{proof}
                
                \begin{proposition}
                    
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
                    
                \begin{proposition}[Formal smoothness is a local property] \label{prop: formal_smoothness_is_local}
                    Let $\varphi: R \to S$ be a homomorphism between two commutative rings and let $\q$ be some prime ideal of $S$ (read: point of $|\Spec S|$). Then, $\varphi$ is formally smooth if and only if the induced maps $\varphi_{\q}: R \to S_{\q}$ are all formally smooth. 
                \end{proposition}
                    \begin{proof}
                        \noindent
                        \begin{enumerate}
                            \item Suppose first of all that $\varphi_{\q}: R \to S_{\q}$ is a formally smooth ring map for any prime $\q \in |\Spec S|$.  
                            \item 
                        \end{enumerate}
                    \end{proof}
                    
                \begin{proposition}[Formally smooth + finite type + local = flat] \label{prop: formally_smooth_finite_type_local_morphisms_are_flat}
                    Let $(R, \m)$ be a local ring, let $S$ be a finitely presented $R$-algebra, and consider a local homomorphism $(R, \m) \to (S_{\q}, \q)$. Then, should $R \to S_{\q}$ be formally smooth, it shall also be flat. 
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
        
            \subsubsection{Smooth morphisms}
                \begin{definition}[Standard smoothness] \label{def: standard_smoothness} \index{Smoothness! standard}
                    \noindent
                    \begin{enumerate}
                        \item \textbf{(Standard smooth ring maps):} A map of commutative rings:
                            $$\varphi: R \to S$$
                        is called \textbf{standard smooth} if and only if it is of \textit{finite presentation} (i.e. there exists natural numbers $N, n$ such that:
                            $$S \cong R[x_1, ..., x_N]/(f_1, ..., f_n)$$
                        for some finite subset $\{f_i\}_{1 \leq i \leq n}$ of $R[x_1, ..., x_n]$) and the Jacobian of the vector-valued function $(f_1, ..., f_n)$ (mind the abuse of notation):
                            $$\Jac(f_1, ..., f_n) = \left(\nabla f_1, ..., \nabla f_n\right)^T = 
                                \begin{pmatrix}
                                    \del_{x_1} f_1 & ... & \del_{x_n} f_1
                                    \\
                                    \vdots & \ddots & \vdots
                                    \\
                                    \del_{x_1} f_n & ... & \del_{x_n} f_n
                                \end{pmatrix}
                            = (\del_{x_j} f_i)_{1 \leq i, j \leq n}$$
                        is \textit{full-rank} (i.e. of rank $n$ in this particular instance); alternatively, by basic module theory, one can require the determinant of the Jacobian to be \textit{invertible} in $S$.  
                        \item \textbf{(Standard smooth prestacks):} A morphism:
                            $$f: \calX \to \calY$$
                        of prestacks is said to be \textbf{standard smooth} if and only if it is represented by a standard smooth morphism of affine schemes.
                    \end{enumerate}
                \end{definition}
                \begin{remark}[Unpacking the definition] \label{remark: standard_smoothness}
                    Definition \ref{def: standard_smoothness} paints a rather conrete and down-to-earth picture depicting what it means for a ring map to supposedly be \say{smooth}. Essentially, what it is trying to say is that given a ring map of finite presentation:
                        $$\varphi: R \to S$$
                    with:
                        $$S \cong R[x_1, ..., x_N]/(f_1, ..., f_n)$$
                    then should the Jacobian - an $R$-linear operator on $S$ viewed as a finitely presented $R$-module - be of full rank, the aforementioned ring map $\varphi$ is going to be somehow \say{smooth} (the quotation marks are here because as it turns out, standard smooth morphisms are only cohomologically smooth - i.e. smooth in the \say{right} algebro-geometric way - if the associated universal module of K\"ahler differential is free; cf. proposition \ref{prop: smooth_iff_standard_smooth}). In other words, definition \ref{def: standard_smoothness} is nothing but an analogue of the Inverse Function Theorem from calculus. 
                \end{remark}
                \begin{remark}[Locality of (standard) smoothness]
                    One very important bit of information that can be inferred from definition \ref{def: standard_smoothness} is that standard smoothness (and as we shall see later on, cohomological smoothness as well) is a Zariski-local property: one checks whether or not some given scheme over a base commutative ring is standard smooth by checking if the affine patches covering it are so. 
                \end{remark}
                
                \begin{definition}[Cohomological smoothness] \label{def: cohomological_smoothness} \index{Smoothness! cohomological}
                    \noindent
                    \begin{enumerate}
                        \item \textbf{(Cohomologically smooth ring maps):} A homomorphism between commutative rings:
                            $$\varphi: R \to S$$
                        is called \textbf{cohomologically smooth} if and only if it is of finite presentation and its associated (na\"ive) cotangent complex is quasi-isomorphic to a finitely generated projective $S$-module placed in degree $0$.
                        \item \textbf{(Cohomologically smooth prestacks):} A morphism:
                            $$f: \calX \to \calY$$
                        of prestacks is said to be \textbf{cohomologically smooth} if and only if it is represented by a cohomologically smooth morphism of affine schemes.
                    \end{enumerate}
                \end{definition}
                \begin{remark}[Cotangent complex: na\"ive or nay ?]
                    Definition \ref{def: cohomological_smoothness} made reference to na\"ive cotangent complexes associated to ring maps, and how those of ring maps that are of finite presentation being quasi-isomorphic to certain complexes of modules concentrated in degree $0$ implies cohomological smoothness. On the surface this might seem like a rather sensible characterisation of smoothness, but dive a little deeper and one shall find one glaring problem: the na\"ive cotangent complex is incredibly awkward to work with. There is, however, a silver lining, which is that na\"ive cotangent complexes are actually nothing but $(-1)$-truncated cotangent complexes. Thus, we can simply remove the word \say{na\"ive} from definition \ref{def: cohomological_smoothness}. 
                \end{remark}
                
                \begin{proposition}[Cohomological smoothness is the same as standard smoothness] \label{prop: smooth_iff_standard_smooth}
                    A ring map $\varphi: R \to S$ of finite presentation is smooth if and only if it is standard smooth.
                \end{proposition}
                    \begin{proof}
                    
                    \end{proof} 
                \begin{convention}
                    Thanks to proposition \ref{prop: smooth_iff_standard_smooth}, it makes sense from this point on for us to do away with the specifications and refer to both standard smooth morphisms and cohomologically smooth ones as simply being \say{smooth}.
                \end{convention}
                    
                \begin{proposition}[Smoothness implies almost-finiteness of cotangent complex] \label{prop: smoothness_implies_almost_finiteness_of_cotangent_complex}
                    The cotangent complex associated to any smooth ring map $\varphi: R \to S$ is almost of finite type, and because the cotangent complex associated to any smooth ring map is quasi-isomorphic to a projective module placed in degree $0$, this is actually just asserting that the associated module of K\"ahler differentials $\Omega^1_{S/R}$ is a finitely generated projective module.
                \end{proposition}
                    \begin{proof}
                    
                    \end{proof}
                \begin{corollary}[Relative dimensions of smooth maps]
                    The relative dimension of a smooth ring map is the number of generators of its associated cotangent complex, which according to proposition \ref{prop: smoothness_implies_almost_finiteness_of_cotangent_complex}, had better be finite.
                \end{corollary}
                \begin{example}
                    A smooth ring map of the form:
                        $$\varphi: R \to R[x_1, ..., x_N]/(f_1, ..., f_n)$$
                    has relative dimension $N - n$. 
                \end{example}
                
                \begin{proposition}[Smooth maps are finitely presented formally smooth maps] \label{prop: smooth_iff_formally_smooth_and_of_finite_presentation}
                    A ring map of finite presentation is smooth if and only if it is formally smooth.
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
                
                \begin{proposition}[Smoothness is a local property] \label{prop: smoothness_is_local}
                    Let $\varphi: R \to S$ be a ring map of finite presentation and let $\q$ be some prime ideal of $S$ (read: point of $|\Spec S|$). Then, $\varphi$ is smooth if and only if the induced maps $\varphi_{\q}: R \to S_{\q}$ are all smooth. 
                \end{proposition}
                    \begin{proof}
                        
                    \end{proof}
                \begin{corollary}[Fibre-wise smoothness] \label{coro: fibrewise_smoothness}
                    Let $X$ be a scheme over some base scheme $S$. Then, the structure morphism $X \to S$ is smooth if and only if all of its fibres are so, i.e. for all $s \in |S|$, the fibre $X_s \cong X \x_S \Spec \kappa_s$ is smooth over the residue field $\kappa_s$. In practice, this means that to check for smoothness, one can simply pullback to over a point and apply fibre-wise results on smoothness (such as proposition \ref{prop: dimensions_of_smoothn_morphisms_over_fields}).
                \end{corollary}
                    
                \begin{proposition}[Smoothness is stable under base changes and compositions] \label{prop: compositions_and_base_changes_of_smooth_morphisms}
                    \noindent
                    \begin{enumerate}
                        \item Let:
                            $$
                                \begin{tikzcd}
                                	A & B & C
                                	\arrow["\varphi", from=1-1, to=1-2]
                                	\arrow["\psi", from=1-2, to=1-3]
                                \end{tikzcd}
                            $$
                        be a composition of smooth ring homomorphisms, and suppose that $\varphi$ is of relative dimension $r$, and $\psi$ is of relative dimension $s$. Given these hypotheses, the relative dimension of $\psi \circ \varphi$ is $r + s$.
                        \item Let $\varphi: R \to S$ be a smooth ring map of relative dimension $d$ and $\psi: R \to R'$ be an arbitrary homomorphism of commutative rings. Then, the pushout $S \tensor_{\varphi, R, \psi} R'$ is smooth over $R'$, and of relative dimension $d$ as well. 
                    \end{enumerate}
                \end{proposition}
                    \begin{proof}
                        \noindent
                        \begin{enumerate}
                            \item According to definition \ref{def: standard_smoothness} and proposition \ref{prop: smooth_iff_standard_smooth}, we can write $B$ as a commutative $A$-algebra of the form $\frac{A[x_1, ..., x_N]}{(f_1, ..., f_n)}$ for some pair $N, n$ of natural numbers, and subsequently, $C$ as a commutative $B$-algebra (which should be viewed as an $\frac{A[x_1, ..., x_N]}{(f_1, ..., f_n)}$-algebra) of the form $\frac{\frac{A[x_1, ..., x_N]}{(f_1, ..., f_n)}[y_1, ..., y_M]}{(g_1, ..., g_m)} \cong \frac{A[x_1, ..., x_N, y_1, ..., y_M]}{(f_1, ..., f_n, g_1, ..., g_m)}$ for another pair $M, m$ of natural numbers. Notice that:
                                $$N - n = r, M - m = s$$
                            (also, recall that smooth morphisms are \textit{a priori} of finite presentation, which would imply that $n \leq N$ and $m \leq M$, so the above expressions are well-defined - we do not want negative dimensions, after all). It is then rather easy to see that the relative dimension of $\psi \circ \varphi$ had better be equal to $r + s$.
                            \item Suppose that for some pair of natural numbers $n, N$, we have:
                                $$S \cong \frac{R[x_1, ..., x_N]}{(f_1, ..., f_n)}$$
                            Then, by the fact that colimits commute, we have:
                                $$S \tensor_{\varphi, R, \psi} R' \cong \frac{R[x_1, ..., x_N]}{(f_1, ..., f_n)} \tensor_{\varphi, R, \psi} R' \cong \frac{R'[x_1, ..., x_N]}{(f_1, ..., f_n)}$$
                            which tells us that the pushout $S \tensor_{\varphi, R, \psi} R'$ is smooth as a commutative $R'$-algebra, and that it is of relative dimension $d = N - n$, much like $S$ is as an $R$-algebra.
                        \end{enumerate}
                    \end{proof}
                \begin{corollary}[Compositions and base changes of \'etale morphisms] \label{coro: compositions_and_base_changes_of_etale_morphisms}
                    Compositions of \'etale morphisms (see definition \ref{def: etale_morphisms} for the notion of \'etale-ness) are \'etale themselves, as these are smooth and of relative dimension $0$. Likewise, base changes of \'etale morphisms are also \'etale.
                \end{corollary}
                \begin{remark}[Preservation of smoothness and \'etale-ness of non-affine schemes]
                    As smoothness (and hence \'etale-ness) is a local notion (cf. proposition \ref{prop: smoothness_is_local}), proposition \ref{prop: compositions_and_base_changes_of_smooth_morphisms} and corollary \ref{coro: compositions_and_base_changes_of_etale_morphisms} generalise in a rather obvious manner to cases where one's schemes might not be affine. Namely:
                        \begin{enumerate}
                            \item should:
                                $$
                                    \begin{tikzcd}
                                        	X & Y & Z
                                        	\arrow["\varphi", from=1-1, to=1-2]
                                        	\arrow["\psi", from=1-2, to=1-3]
                                        \end{tikzcd}
                                $$
                            be any pair of composable smooth (or \'etale) morphisms of schemes, wherein $\varphi$ is of relative dimension $r$ and $\psi$ is of relative dimension $s$, then their composition $\psi \circ \varphi$ will be smooth and of relative dimension $r + s$, and
                            \item given any pullback square of schemes as follows:
                                $$
                                    \begin{tikzcd}
                                    	{Y'} & Y \\
                                    	{X'} & X
                                    	\arrow["\psi", from=2-1, to=2-2]
                                    	\arrow["\varphi", from=1-2, to=2-2]
                                    	\arrow[from=1-1, to=1-2]
                                    	\arrow[from=1-1, to=2-1]
                                    	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
                                    \end{tikzcd}
                                $$
                            wherein $\varphi: Y \to X$ is smooth of relative dimension $d$ and $\psi: X' \to X$ is arbitrary, the canonical projection $Y \x_{\varphi, X, \psi} X' \to X'$ is also smooth and of relative dimension $d$ (when $d = 0$, one obtains the stability of \'etale-ness of under base changes).
                        \end{enumerate}
                \end{remark}
                
                \begin{proposition}[Relative and pure dimensions of smooth maps over fields] \label{prop: dimensions_of_smoothn_morphisms_over_fields}
                    Let $k$ be a field and let:
                        $$\pi: X \to \Spec k$$
                    be a scheme that is smooth over $\Spec k$. Then, the following are equivalent:
                        \begin{enumerate}
                            \item $\pi: X \to \Spec k$ is of relative dimension $d$. 
                            \item The Krull dimension of $X$ is $d$. 
                        \end{enumerate}
                \end{proposition}
                    \begin{proof}
                        Because smoothness, as a property of schemes, is Zariski-local, let us assume that $X$ is affine. Note that this is not at the detriment of generality. 
                        \begin{enumerate}
                            \item To start, let us assume \textbf{1}. Specifically, let us assume that for some pair of natural numbers $n, N$ such that $d = N - n$, we have:
                                $$X \cong \Spec \frac{k[x_1, ..., x_N]}{(f_1, ...,f_n)}$$
                            Then, it is simply a matter of finding the Krull dimension $\frac{k[x_1, ..., x_N]}{(f_1, ...,f_n)}$. By the Third Isomorphism Theorem, prime ideals of $\frac{k[x_1, ..., x_N]}{(f_1, ...,f_n)}$ are in bijective correspondence with those of $k[x_1, ..., x_n]$ that contain the ideal $(f_1, ..., f_n)$; the Krull dimension of $\frac{k[x_1, ..., x_N]}{(f_1, ...,f_n)}$ is thus, by definition, the supremum of the heights of such prime ideals. 
                            \item Let:
                                $$X \cong \Spec \frac{k[x_1, ..., x_N]}{(f_1, ..., f_n)}$$
                            and suppose that:
                                $$\dim_{\Krull} X = d$$
                            
                        \end{enumerate}
                    \end{proof}
        
        \subsection{Syntomicity and the art of building examples}
            \begin{proposition}[Smooth maps are syntomic] \label{prop: smooth_maps_are_syntomic}
                Smooth ring maps are syntomic (which in particular, implies that they are flat).
            \end{proposition}
                \begin{proof}
                    
                \end{proof}
     
    \section{de Rham cohomology over characteristic \texorpdfstring{$0$}{}} \label{section: algebraic_de_rham_cohomology_over_characteristic_0}
    
    \section{Generalities on singularities}
        \subsection{The \texorpdfstring{$\Proj$}{}-construction and blowups; resolution of curves}
            \subsubsection{\texorpdfstring{$\Proj$}{} of graded rings}
            
            \subsubsection{Blowups}
            
            \subsubsection{Application to resolving singular curves}
        
        \subsection{Smoothing out regular rings}
            \subsection{Singular ideals}
                \begin{definition}[Singular loci and singular ideals] \label{def: singular_loci}
                    The \textbf{singular locus} of a homomorphism of commutative rings $\varphi: R \to S$, denoted by $\frakS_{S/R}$ or $\frakS_{\varphi}$, is the following subset of $\Spec S$:
                        $$\frakS_{S/R} := \{\q \in \Spec S \mid \text{$\varphi$ is not smooth at $\q$}\}$$
                    The ideal associated to a singular locus is the \textbf{singular ideal}: in our case, the $S$-ideal $I(\frakS_{S/R})$ is the singular ideal associated to the ring map $\varphi: R \to S$.
                \end{definition}
                \begin{remark}[Unpacking the definition]
                    Definition \ref{def: singular_loci} is one of those definitions that are deceptively clean and simple. It asserts not much more than the fact that the singular locus of a ring map (or rather, of the corresponding morphism of affine schemes) is just the set of points/primes at which the map is not smooth. But it is precisely this reliance on smoothness (or lack thereof) that makes this definition so hard to work with. Smoothness, at its core, is a cohomological property: a ring map that is of finite presentation is smooth if and only if the associated (na\"ive) cotangent complex is quasi-isomorphic to a finitely generated projective module placed in degree $0$ \cite[\href{https://stacks.math.columbia.edu/tag/00T2}{Tag 00T2}]{stacks}. Thus, in checking if a ring map has a non-empty singular locus, one will need to make peace with having to examine this clunky cohomological property.  
                \end{remark}
                
                \begin{proposition}[Singular loci are radical ideals]
                    Let $\varphi: R \to S$ be a fixed homomorphism of commutative rings. Then, the singular ideal $I(\frakS_{S/R})$ is a radical ideal of $S$.
                \end{proposition}
                    \begin{proof}
                        By proposition \ref{prop: radical_properties}, radical ideals are precisely equal to the intersection of all primes containing it, i.e. an ideal $\a$ of $S$ is radical if and only if:
                            $$\a = \bigcap_{\p \in V(\a)} \p$$
                        so let us check if the singular ideal associated to a ring map satisfies this characterisation. 
                    \end{proof}
    
    \section{Resolutions of singularities}
        \subsection{Resolutions of singular surfaces}
        
        \subsection{Resolutions of singular varieties in higher dimensions}
        
    \section{Logarithmic geometry}
        \subsection{Log-schemes}
            \subsubsection{What do we mean by "logarithmic" ?}
            
            \subsubsection{Monoided topoi; immersions}
                \begin{definition}[Ideals] \label{def: ideals_in_symmetric_monoidal_categories}
                    Suppose that $\O$ is a symmetric monoidal category and denote its category of internal monoids by $\Mon(\O)$. An \textbf{ideal} of an object $A \in \Mon(\O)$, should it exist, shall then be nothing but a subobject of $A$ that is \textit{distinct} from $A$ and such that the canonical composite map $I \tensor A \to A \tensor A \to A$ (wherein the last factor map $A \tensor A \to A$ is the multiplication on $A$) admits an epi-mono factorisation:
                        $$
                            \begin{tikzcd}
                            	{I \tensor A} & A \\
                            	I
                            	\arrow[two heads, from=1-1, to=2-1]
                            	\arrow[tail, from=2-1, to=1-2]
                            	\arrow[from=1-1, to=1-2]
                            \end{tikzcd}
                        $$    
                \end{definition}
                \begin{remark}
                    As usual, there exists a natural partial order of ideals within any commutative monoid.
                \end{remark}
                
                \begin{definition}[Sums and products of ideals with other objects] \label{def: products_and_sums_of_ideals}
                    Let $(\O, \tensor, \1)$ be a symmetric monoidal category and let $I$ be an ideal of some commutative monoid $A \in \Comm\Mon(\O)$. 
                        \begin{itemize}
                            \item \textbf{(Products):} Its product with another element $M \in \O$ - henceforth denoted by $IM$ - shall thus be defined as the coequaliser of the kernel pair $I \tensor M \toto A \tensor M$ (of course, should the pullback and pushout, respectively, exist) induced by the inclusion $I \hookrightarrow A$.
                            \item \textbf{(Sums):} Let $\{M_s\}_{s \in S}$ be a family of objects of $\O$, and suppose that the coproduct $\coprod_{s \in S} M_s$ and product $\prod_{s \in S} M_s$ exist as objects of $\O$. Then, the sum $\sum_{s \in S} M_s$ shall be the coequaliser of the canonical kernel pair $\prod_{s \in S} M_s \toto \coprod_{s \in S} M_s$.  
                        \end{itemize}
                \end{definition}
                \begin{remark}
                    In the event that $(\O, \tensor, \1)$ is furthermore monoidally closed (i.e. it is enriched over itself and any tensoring functor $M \tensor -$ admits the internal hom $[M,- ]$ as its right-adjoint) and that $I$ is flat (i.e. the functor $I \tensor -$ is faithful), one has:
                        $$IM \cong I \tensor M$$
                    for all $M \in \O$.
                \end{remark}
                
                \begin{proposition}[Sums and products of ideals are ideals] \label{prop: products_and_sums_of_ideals_are_ideals}
                    Sums and products of ideals of a commutative monoid internal to any symmetric monoidal category (in the sense of definition \ref{def: products_and_sums_of_ideals}) are ideals of the same monoid.
                \end{proposition}
                    \begin{proof}
                                    
                    \end{proof}
                
                \begin{definition}[Prime ideals] \label{def: prime_ideals_in_symmetric_monoidal_categories}
                    Suppose that $\O$ is a symmetric monoidal category and denote its category of internal commutative monoids by $\Comm\Mon(\O)$. Then, an ideal $\p$ of some $A \in \Comm\Mon(\O)$ is said to be \textbf{prime} if and only if:
                        $$IJ \in \Ideals(\p) \implies J \in \Ideals(\p) \vee I \in \Ideals(\p)$$
                    where $\Ideals(-): \O \to \Sets$ is the functor assigning to objects $\O$ their (po)set of equivalence classes of subobjects. The set of prime ideals of a give commutative monoid $A$ is denoted by $\Spec A$.
                \end{definition}
                \begin{remark}[Maximal ideals are prime]
                    It is not hard to show that any maximal ideal of a commutative monoid is necessarily prime.
                \end{remark}
                
                For the next proposition, recall that for \textit{any} symmetric monoidal category $\O$, the subcategory $\Comm\Mon(\O)$ of commutative monoids internal to $\O$ is complete and cocomplete.
                \begin{proposition}[The Zariski topology] \label{prop: zariski_topology_on_symmetric_monoidal_categories}
                    Suppose that $\O$ is a symmetric monoidal category, and fix an object $A \in \Comm\Mon(\O)$. Then, there exists a topology on $\Spec A$ wherein sets given by:
                        $$V(I) := \{\p \in \Spec A \mid I \in \Ideals(\p)\}$$
                \end{proposition}
                    \begin{proof}
                        See proposition \ref{prop: zariski_closed_well_definiteness}.
                    \end{proof}
                \begin{corollary}[Small Zariski sites] \label{coro: small_zariski_sites_in_symmetric_monoidal_categories}
                    We can argue in a manner similar to remark \ref{remark: big_and_small_zariski_sites} to show that should $\O$ be a symmetric monoidal category then the full subcategory $\O^{\fp}$ of finitely presented objects would be small. Therefore, by proposition \ref{prop: zariski_topology_on_symmetric_monoidal_categories}, there naturally exists a small Zariski site $\Comm\Mon(\O)_{\Zar}^{\petit} := \Comm\Mon(\O^{\fp})_{\Zar}$. 
                \end{corollary}
                \begin{convention}[Spectral spaces]
                    Any topological space that is locally homeomorphic to the spectrum of a commutative monoid is said to be \textbf{spectral}. The Zariski sheaf topos over a spectral space $X$ shall be denoted by $\Sh(X_{\Zar})$. 
                \end{convention}
                
                \begin{definition}[Localisation of commutative monoids] \label{def: commutative_monoid_localisation}
                    Let $\O$ be a symmetric monoidal category with finite pullbacks and let $A$ be a commutative monoid, which we shall view as a symmetric monoidal category with one object (namely $A$) that is internal to $\O$ (see definition \ref{def: internal_categories} for the notion of internal categories, as well as an explanation of why we need to require that $\O$ has finite pullbacks). \say{Elements} of $A$ are thus simply endomorphisms on $A$, and thanks to the commutativity of the multiplication on $A$ (which means that the order in which one composes these endomorphisms does not matter), one can \textbf{localise} $A$ \textit{away} from some submonoid $S$ by formally inverting these arrows; the \textbf{localisation of $A$ away from $S$} is denoted by $A[S^{-1}]$. 
                \end{definition}
                \begin{remark}[Localisations are Zariski-open] \label{remark: localisations_of_monoids_are_open}
                    It is not hard to see that localisations are colimits that, while taken in the ambient symmetric monoidal categories, are legitimate colimits of monoids. From here, we can deduce that the prime spectrum of a localisation of a commutative monoid is necessarily open in the Zariski topology on said spectrum.
                \end{remark}
                
                \begin{definition}[Local monoids] \label{def: local_monoids}
                    A commutative monoid $A$ internal to a symmetric monoidal category $\O$ is said to be \textbf{local} if and only if it is isomorphic to every one of its localisation, i.e. for all submonoids $S$ of $A$, one has:
                        $$A[S^{-1}] \cong A$$
                \end{definition}
                \begin{remark}[Local monoids have unique maximal ideals]
                    It is not hard to show that any local commutative monoid must have one and only one unique maximal ideal.
                \end{remark}
                \begin{convention}[Localising monoids at prime ideal] \label{conv: localising_commutative_monoids_at_primes}
                    Let $\O$ be a symmetric monoidal category and let $\p \in \Spec A$ be a prime ideal of a commutative monoid $A$. Then, the localisation of $A$ \textbf{at} the prime ideal $\p$ (at the point $\p \in \Spec A$), denoted by $A_{\p}$, shall be the simultaneous localisation of $A$ at every submonoid that does \textit{not} contain $\p$. 
                \end{convention}
                \begin{lemma}[Localisations at primes are local] \label{lemma: localisations_at_primes_are_local}
                    Let $\O$ be a symmetric monoidal category and let $A$ be a commutative monoid therein. Then, any localisation $A_{\p}$ of $A$ at a prime ideal $\p$ shall be a local monoid.
                \end{lemma}
                    \begin{proof}
                        Use corollary \ref{coro: localisation_at_primes} as a guide.      
                    \end{proof}
                    
                \begin{lemma}[Monoids in topoi are local] \label{lemma: monoids_in_topoi_are_local}
                    Let $\E$ be a sheaf topos. Then, every commutative monoid internal to $\O$ is necessarily local.
                \end{lemma}
                    \begin{proof}
                    First of all fix a commutative monoid $A$ internal to $\E$. Next, note that because localisations are colimits (cf. remark \ref{remark: localisations_of_monoids_are_open}), and because the stalk of an object of a sheaf topos $\E$ is given by the left-adjoint component $x^*: \E \to \Sets$ of the geometric point:
                        $$
                            \begin{tikzcd}
                            	\Sets & \E
                            	\arrow[""{name=0, anchor=center, inner sep=0}, "{x_*}"', shift right=2, from=1-1, to=1-2]
                            	\arrow[""{name=1, anchor=center, inner sep=0}, "{x^*}"', shift right=2, from=1-2, to=1-1]
                            	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=1, to=0]
                            \end{tikzcd}
                        $$
                    we can simply work locally within the topos $\Sets$. Let us then break the proof down into two steps:
                        \begin{enumerate}
                            \item \textbf{(Non-units form a prime ideal):} Denote the subset of non-units of $A$ by $\m_A$ and consider $x, y \in A$ such that $xy \in \m_A$. Suppose then to the contrary that $\m_A$ is not prime, i.e. that neither $x$ nor $y$ are elements of $\m_A$. However, this would imply that $x$ and $y$ are both units (since $A^{\x} = A \setminus \m_A$ by construction), which means that $xy$ can not be an element of $\m_A$. This is a contradiction, which means that our assumption that neither $x$ nor $y$ are elements of $\m_A$ was wrong. We have thus shown that $\m_A$ is a prime ideal of $A$.  
                            \item \textbf{(The prime ideal of non-units is uniquely maximal):} Showing that $\m_A$ is maximal is easy: were it not maximal, there would exist a non-unit that would also not be an element of $\m_A$, which does not make sense because $\m_A$ contains all non-units. It now remains to show that $\m_A$ is the only maximal ideal of $A$. For this, suppose that there exist another maximal ideal $\n$ of $A$ which does not coincide with $\m_A$. Such an ideal can not contain any unit, of course, but this means that by virtue of containing only non-units, $\n$ is necessarily a subset of $\m_A$, and hence not maximal. $\m_A$ is therefore unique as a maximal ideal of $A$. 
                        \end{enumerate}
                    \end{proof}
                \begin{remark}[Local monoids and local rings] \label{remark: linearity_gives_rise_to_many_maximal_ideals}
                    One might ask: \say{But hold on, are commutative rings not internal commutative monoids too ? How can there be non-local rings then ?} and to that, we say: \say{It's because rings are monoids internal to linear symmetric monoidal categories, and more often than not, abelian symmetric monoidal categories. Topoi are neither of these things.} Vaguely speaking, the absence of linearity disallows monoids from having more than one maximal ideal. Explicitly,  
                \end{remark}
                \begin{example}
                    \noindent
                    \begin{itemize}
                        \item The only unit of $\N$ (viewed as an additive monoid internal to $\Sets$) is the element $0$, and so its unique maximal ideal is $\N^{\geq 1} := \N \setminus \{0\}$. This, however, is not its only prime ideal, since every monoid in $\Sets$ admits the empty set $\varnothing$ as the \say{zero} ideal. The space $\Spec \N$ thus has a generic point and a closed point, and nothing else.
                        \item Let $S^{-1}$ any additive subset (i.e. submonoid) of $\N$ and consider the additive monoid $\N[S^{-1}]$. It is clear that $\N[S^{-1}]^{\x} = \{0\} \cup S$, and hence the unique maximal ideal of $\N[S^{-1}]$ is $\N \setminus (\{0\} \cup S)$. 
                    \end{itemize}
                \end{example}
                \begin{definition}[Monoided topoi] \label{def: monoided_topoi}
                    A so-called \textbf{monoided topos} is the data of a pair $(\calX, \calM_{\calX})$ of:
                        \begin{itemize}
                            \item a topos $\calX$ (which we shall always take to be a sheaf topos, never an elementary topos) and
                            \item a distinguished commutative monoid object $\calM_{\calX}$ (which is guaranteed to be well-defined because sheaf topoi are symmetric-monoidal), called the \textbf{structure sheaf}.
                        \end{itemize}
                    Morphisms of monoided topoi are just the geometric morphisms between the underlying topoi. Additionally, note that because every commutative monoid internal to a topos is local, monoided topoi are tautologically locally monoided; however, there still exists a subcategory $\Spc^{\mon, \loc}$ spanned by geometric morphisms between monoided topoi whose stalks are local homomorphisms of concrete commutative monoids (i.e. commutative monoids internal to $\Sets$).
                \end{definition}
                
                \begin{definition}[Immersions] \label{def: immersions_of_monoided_spaces}
                    Let $(\Sh(Z), \calM_Z), (\Sh(X), \calM_X)$ be the monoided topos associated to topological spaces $Z$ and $X$ and let $j: Z \to X$ be a continuous function. Said continuous function will induce an \textbf{immersion} if and only if:
                        \begin{itemize}
                            \item it is injective, and 
                            \item the induced comorphism of structure sheaves:
                                $$j^{\sharp}: \calM_X \to j_*\calM_Z$$
                            is surjective.
                        \end{itemize}
                \end{definition}
                \begin{proposition}[Closed immersions are set-theoretically bijective] \label{prop: closed_immersions_of_monoided_spaces_are_bijective}
                    The continuous map that induces a given closed immersion of monoided spaces is necessarily a homeomorphism.  
                \end{proposition}
                    \begin{proof}
                                    
                    \end{proof}
                \begin{corollary}
                    Not every surjective monoid homomorphism induces a closed immersion.
                \end{corollary}
                
            \subsubsection{Log-structures}
                \begin{definition}[Logarithmic structures on ringed topoi] \label{def: log_structures}
                    Let $(\calX, \calO_{\calX})$ be a ringed topos.
                    \begin{enumerate}
                        \item \textbf{(Prelog-structures):}
                        \item \textbf{(Log-structures):}
                    \end{enumerate}
                \end{definition}
        
        \subsection{Deformations of log schemes}